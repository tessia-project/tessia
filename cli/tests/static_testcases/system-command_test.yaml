description: Additional test for the 'system' command
# An empty file ~/tessia/cli/tests/kvm-guest.xml is used to cover stmts 142-148 in types.py
base_user: admin
tasks_order:
  - base_add
  - system_help
  - system_command
  - system_zvm
  - system_model
  - system_iface
  - system_prof
  - set_os_manually
tasks:
  base_add:
    # lab admin to create the lab resources
    - - perm project-add --name='GEO_1 labadmins' --desc='GEO_1 lab admins'
      - Item added successfully.
    - - perm user-add --login=lab_admin@example.com --name='ADMIN_LAB' --title='Title of lab admin'
      - User added successfully.
    - - perm role-grant --login=lab_admin@example.com --name='ADMIN_LAB' --project='GEO_1 labadmins'
      - User role added successfully.
    # create the target project
    - - perm project-add --name='GEO_1 developers' --desc='Developer team'
      - Item added successfully.
    # make sure lab admin also has permissions on this project
    - - perm role-grant --login=lab_admin@example.com --name='ADMIN_LAB' --project='GEO_1 developers'
      - User role added successfully.
    # create target user
    - - perm user-add --login=dev1@example.com --name='Developer 1' --title='Mr. Developer 1'
      - User added successfully.
    - - perm role-grant --login=dev1@example.com --name='USER' --project='GEO_1 developers'
      - User role added successfully.
    - - perm user-edit --login=dev1@example.com --restricted FALSE --admin TRUE
      - User successfully updated.
    # switch to lab admin user
    - - - conf key-gen
        - lab_admin@example.com
        - password
      - Key successfully created and added to client configuration.
    # create the net resources
    - - net zone-add --name=GEO_1-NE --project='GEO_1 labadmins' --desc='GEO-NE, VLAN 1822'
      - Item added successfully.
    - - net subnet-add --zone=GEO_1-NE --name='GEO_1-NE-1822' --address=192.168.160.0/22  --gw=192.168.160.1 --dns1=192.168.200.241 --vlan=1822 --project='GEO_1 labadmins' --desc='Shared zone vlan 1822'
      - Item added successfully.
      # ip for lpar
    - - net ip-add --subnet='GEO_1-NE-1822' --ip=192.168.161.222  --project='GEO_1 developers' --desc='For use by lpar 52'
      - Item added successfully.
      # ip for kvm
    - - net ip-add --subnet='GEO_1-NE-1822' --ip=192.168.160.55  --project='GEO_1 developers' --desc='For use by guest55'
      - Item added successfully.
    # create the storage resources
    - - storage server-add --name=DS8K16 --model=DS8000 --type=DASD-FCP --project='GEO_1 labadmins'
      - Item added successfully.
    - - storage vol-add --server=DS8K16 --type=DASD --id=3950 --size=7gb --project='GEO_1 labadmins' --desc='live-image disk for cpc cpc3'
      - Item added successfully.
    - - storage vol-add --server=DS8K16 --type=DASD --id=3951 --size=7gb --project='GEO_1 labadmins' --desc='second live-image disk for cpc cpc3'
      - Item added successfully.
    - - storage vol-add --server=DS8K16 --type=DASD --id=3952 --size=7gb --owner= --project='GEO_1 developers' --desc='belongs to zVM guest/LPAR'
      - Item added successfully.
    - - storage vol-add --server=DS8K16 --type=DASD --id=3956 --size=7gb --owner=dev1@example.com --project='GEO_1 developers' --desc='belongs to zVM guest/LPAR'
      - Item added successfully.
    - - storage part-init --server=DS8K16 --id=3956 --label=dasd
      - Partition table successfully initialized.
    - - storage part-add --server=DS8K16 --id=3956 --fs=ext4 --size=7gb --mp=/
      - Partition successfully added.
    - - storage vol-add --server=DS8K16 --type=DASD --id=3957 --size=7gb --owner=dev1@example.com --project='GEO_1 developers' --desc='belongs to zVM guest/LPAR'
      - Item added successfully.
    - - storage part-init --server=DS8K16 --id=3957 --label=dasd
      - Partition table successfully initialized.
    - - storage part-add --server=DS8K16 --id=3957 --fs=swap --size=7gb
      - Partition successfully added.
  system_help:
    - - system -h
      - 'Usage: tess system'
    - - system add -h
      - 'Usage: tess system add'
    - - system autoinstall -h
      - 'Usage: tess system autoinstall'
    - - system del -h
      - 'Usage: tess system del'
    - - system edit -h
      - 'Usage: tess system edit'
    - - system iface-add -h
      - 'Usage: tess system iface-add'
    - - system iface-attach -h
      - 'Usage: tess system iface-attach'
    - - system iface-del -h
      - 'Usage: tess system iface-del'
    - - system iface-detach -h
      - 'Usage: tess system iface-detach'
    - - system iface-edit -h
      - 'Usage: tess system iface-edit'
    - - system iface-list -h
      - 'Usage: tess system iface-list'
    - - system iface-types -h
      - 'Usage: tess system iface-types'
    - - system list -h
      - 'Usage: tess system list'
    - - system model-add -h
      - 'Usage: tess system model-add'
    - - system model-del -h
      - 'Usage: tess system model-del'
    - - system model-edit -h
      - 'Usage: tess system model-edit'
    - - system model-list -h
      - 'Usage: tess system model-list'
    - - system poweroff -h
      - 'Usage: tess system poweroff'
    - - system poweron -h
      - 'Usage: tess system poweron'
    - - system prof-add -h
      - 'Usage: tess system prof-add'
    - - system prof-del -h
      - 'Usage: tess system prof-del'
    - - system prof-edit -h
      - 'Usage: tess system prof-edit'
    - - system prof-list -h
      - 'Usage: tess system prof-list'
    - - system states -h
      - 'Usage: tess system states'
    - - system types -h
      - 'Usage: tess system types'
    - - system vol-attach -h
      - 'Usage: tess system vol-attach'
    - - system vol-detach -h
      - 'Usage: tess system vol-detach'
  system_command:
    - - system types
      - 'Type name    : KVM'
    - - system states
      - 'State name  : AVAILABLE'
    - - system list
      - No results were found.
    # 'system add' subcommand
    - - system add 
      - Missing option "--name".
    - - system add --name=cpc1
      - Missing option "--hostname".
    - - system add --name=cpc1 --type=cpc
      - Missing option "--hostname".
    - - system add --name=cpc1 --hostname=hosthmc1.example.com
      - Missing option "--type".
    - - system add --type=cpc --hostname=hosthmc1.example.com
      - Missing option "--name".
    - - system add --name= --type=cpc --hostname=hosthmc1.example.com
      - 'Invalid value for "--name": value may not be empty'
    - - system add --name=cpc1 --type= --hostname=hosthmc1.example.com
      - 'Invalid value for "--type": value may not be empty'
    - - system add --name=cpc1 --type=cpc --hostname=
      - 'Invalid value for "--hostname": value may not be empty'
    - - system add --name=cpc2 --type=cpc --hostname=hosthmc1.example.com --model=zzzz
      - "request failed. Server answered: No associated item found with value 'ZZZZ' for field 'Model'"
    - - system add --name=cpc2 --type=cpc --hostname=hosthmc1.example.com --model=
      - 'Invalid value for "--model": value may not be empty'
    - - system add --name=cpc2 --type=cpc --hostname=hosthmc1.example.com --model=zec12_h43 --state=
      - 'Invalid value for "--state": value may not be empty'
    - - system add --name=cpc2 --type=cpc --hostname=hosthmc1.example.com --model=zec12_h43 --state=available
      - Item added successfully.
    - - system add --name=cpc2 --type=cpc --hostname=hosthmc1.example.com --model=zec12_h43 --state=AVAILABLE
      - 'request failed. Server answered: An item with the provided value'
    - - system add --name=cpc2 --type=cpc --hostname=hosthmc#1.example.com --model=zec12_h43 --state=AVAILABLE
      - 'Invalid value for "--hostname":'
    - - system add --name=cpc+2 --type=cpc --hostname=hosthmc1.example.com --model=zec12_h43 --state=AVAILABLE
      - 'Invalid value for "--name":'
    - - system add --name=cpc2 --type=cpc --hostname=hosthmc4.example.com
      - 'request failed. Server answered: An item with the provided value'
    - - system add --name=cpc4 --type=cpc --hostname=hosthmc4.example.com --state=locked
      - Item added successfully.
    - - system add --name=cpc4 --type=cpc --hostname=hosthmc4.example.com --state=LOCKED
      - 'request failed. Server answered: An item with the provided value'
    - - system add --name=cpc5 --type=cpc --hostname=hosthmc5.example.com --state=Debug
      - Item added successfully.
    - - system add --name=cpc5 --type=cpc --hostname=hosthmc5.example.com --state=DEBUG
      - 'request failed. Server answered: An item with the provided value'
    - - system add --name=cpc3 --type=cpc --hostname=hmcserver.example.com --model=zec12_h43 --project='GEO_1 labadmins' --desc='2 Books and 43 processors'
      - Item added successfully.
    - - system add --name=cpc3lp52 --hyp=cpc3 --type=LPAR --hostname=cpc3lp52.example.com --desc='SVT Developer 1' --owner=dev1@example.com --project='GEO_1 developers'
      - Item added successfully.
    - - system add --name=cpc3lp51 --hyp= --type=LPAR --hostname=cpc3lp51.example.com
      - 'Invalid value for "--hyp": value may not be empty'
    - - system add --name=cpc3lp56 --hyp=cpc3 --type=LPAR --hostname=cpc3lp56.example.com --desc= --owner=dev1@example.com --project='GEO_1 developers'
      - Item added successfully.
    - - system add --name=cpc3lp53 --hyp=cpc3 --type=LPAR --hostname=cpc3lp53.example.com --owner= --project='GEO_1 developers'
      - Item added successfully.
    - - system add --name=cpc3lp53 --hyp=cpc3 --type=LPAR --hostname=cpc3lp53.example.com --owner=xxxx --project='GEO_1 developers'
      - "request failed. Server answered: No associated item found with value 'xxxx' for field 'Owner'"
    - - system add --name=cpc3lp54 --hyp=cpc3 --type=LPAR --hostname=cpc3lp51.example.com --project=
      - "request failed. Server answered: No associated item found with value '' for field 'Project'"
    - - system add --name=cpc3lp54 --hyp=cpc3 --type=LPAR --hostname=cpc3lp51.example.com --project='GEO_1 developers'
      - Item added successfully.
    - - system add --name=guest55 --hyp=cpc3lp52 --type=KVM --hostname=guest55.example.com --desc='SVT Developer 1' --owner=dev1@example.com --project='GEO_1 developers'
      - Item added successfully.
    # 'system list' subcommand
    - - system list
      - 'Name            : guest55'
    - - system list --name=cpc3lp
      - No results were found.
    - - system list --name=cpc3lp54
      - 'Name            : cpc3lp54'
    - - system list --hyp=
      - 'Invalid value for "--hyp": value may not be empty'
    - - system list --hyp=cpc3lp
      - No results were found.
    - - system list --hyp=cpc3lp54
      - No results were found.
    - - system list --hyp=cpc3lp52
      - 'Name            : guest55'
    - - system list --model=
      - 'Invalid value for "--model": value may not be empty'
    - - system list --model=zec12
      - No results were found.
    - - system list --model=zec12_h43
      - 'Name            : guest55'
    - - system list --type=
      - 'Invalid value for "--type": value may not be empty'
    - - system list --type=vm
      - No results were found.
    - - system list --type=kvm
      - 'Name            : guest55'
    - - system list --state=locked
      - 'Name            : cpc4'
    - - system list --state=LOCKED
      - 'Name            : cpc4'
    - - system list --owner=
      - No results were found.
      # There is a system with na empty name, created before
    - - system list --owner=dev1@example.com
      - 'Name            :'
    - - system list --owner=dev11@example.com
      - No results were found.
    - - system list --project='GEO_1 labadmins'
      - 'Name            : cpc3'
    - - system list --project='GEO_1 developers'
      - 'Name            : guest55'
    - - system list --project='GEO_1'
      - No results were found.
    # 'system edit' subcommand
    - - system edit
      - Missing option "--name".
    - - system edit --name=cpc3lp52
      - no update criteria provided.
    - - system edit --name=cpc3lp52 --desc='Developer 1'
      - Item successfully updated.
    - - system edit --name=cpc3lp50 --desc='Developer 1'
      - system not found.
    - - system edit --name= --desc='Developer 1'
      - 'Invalid value for "--name": value may not be empty'
    - - system edit --name=cpc3lp54 --newname=cpc3lp54
      - Item successfully updated.
    - - system edit --name=cpc3lp54 --newname=
      - 'Invalid value for "--newname": value may not be empty'
    - - system edit --name=cpc3lp54 --newname=cpc3lp44
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --hyp=cpc10
      - "request failed. Server answered: No associated item found with value 'cpc10' for field 'Hypervisor name'"
    - - system edit --name=cpc3lp56 --hyp=
      - 'Invalid value for "--hyp": value may not be empty'
    - - system edit --name=cpc3lp56 --hyp=cpc3
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --hostname=
      - 'Invalid value for "--hostname": value may not be empty'
    - - system edit --name=cpc3lp56 --hostname=cpc3lp56.example.com
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --model=
      - 'Invalid value for "--model": value may not be empty'
    - - system edit --name=cpc3lp56 --model=ZEC12
      - "request failed. Server answered: No associated item found with value 'ZEC12' for field 'Model'"
    - - system edit --name=cpc3lp56 --model=zgeneric
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --model=zec12_h43
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --type=
      - 'Invalid value for "--type": value may not be empty'
    - - system edit --name=cpc3lp56 --type=vm
      - "request failed. Server answered: No associated item found with value 'VM' for field 'Type'"
    - - system edit --name=cpc3lp56 --type=kvm
      - 'request failed. Server answered: Invalid guest/hypervisor combination'
    - - system edit --name=cpc3lp56 --type=zvm
      - 'request failed. Server answered: Invalid guest/hypervisor combination'
    - - system edit --name=cpc3lp56 --type=cpc
      - 'request failed. Server answered: Invalid guest/hypervisor combination'
    - - system edit --name=cpc3lp56 --type=lpar
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --state=
      - 'Invalid value for "--state": value may not be empty'
    - - system edit --name=cpc3lp56 --state=available
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --state=AVAILABLE
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --state=LOCK
      - "request failed. Server answered: No associated item found with value 'LOCK' for field 'Current state'"
    - - system edit --name=cpc3lp56 --owner=
      - "request failed. Server answered: No associated item found with value 'None' for field 'Owner'"
    - - system edit --name=cpc3lp56 --owner=dev10@example.com
      - "request failed. Server answered: No associated item found with value 'dev10@example.com' for field 'Owner'"
    - - system edit --name=cpc3lp56 --ouner=dev1@example.com
      - 'no such option: --ouner'
    - - system edit --name=cpc3lp56 --owner=dev1@example.com
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --project=
      - "request failed. Server answered: No associated item found with value 'None' for field 'Project'"
    - - system edit --name=cpc3lp56 --project='GEO_1'
      - "request failed. Server answered: No associated item found with value 'GEO_1' for field 'Project'"
    - - system edit --name=cpc3lp56 --project='GEO_1 developers'
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --desc=
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --desc='lpar for development'
      - Item successfully updated.
    # 'system del' subcommand
    - - system del
      - Missing option "--name".
    - - system del --name=
      - 'Invalid value for "--name": value may not be empty'
    - - system del --name=xxx
      - system not found.
    - - system del --name=cpc3lp56
      - Item successfully deleted.
  system_zvm: # zvm guest system and profile add/update
    - - system add --name=vmguest01 --hyp=cpc3lp53 --type=ZVM --hostname=vmguest01.example.com --desc='SVT Developer 1' --owner=dev1@example.com --project='GEO_1 developers'
      - Item added successfully.
    - - system prof-add --name=default --system=vmguest01 --login=root:passwd
      - 'Error: request failed. Server answered: For zVM guests the zVM password must be specified'
    - - system prof-add --name=default --system=vmguest01 --login=root:passwd --zvm-by=admin
      - 'Error: --zvm-by requires --zvm-pass to be specified'
    - - system prof-add --name=default --system=vmguest01 --login=root:passwd --zvm-pass=vmpassword --zvm-by=vmadmin
      - 'Item added successfully.'
    - - system prof-list --name=default --system=vmguest01
      - "Credentials *: .*'host_zvm': {.*'passwd': 'vmpassword'"
    - - system prof-list --name=default --system=vmguest01
      - "Credentials *: .*'host_zvm': {.*'byuser': 'vmadmin'"
    - - system prof-edit --name=default --system=vmguest01 --zvm-pass=vmpassword2 --zvm-by=
      - 'Item successfully updated'
    - - system prof-list --name=default --system=vmguest01
      - "Credentials *: .*'host_zvm': {'passwd': 'vmpassword2'}"
    # second clearing of zvm-by when it's already cleared
    - - system prof-edit --name=default --system=vmguest01 --zvm-pass=vmpassword2 --zvm-by=
      - 'Item successfully updated'
    - - system prof-list --name=default --system=vmguest01
      - "Credentials *: .*'host_zvm': {'passwd': 'vmpassword2'}"
    # set zvm-by again
    - - system prof-edit --name=default --system=vmguest01 --zvm-by=vmadmin
      - 'Item successfully updated'
    - - system prof-list --name=default --system=vmguest01
      - "Credentials *: .*'host_zvm': {.*byuser': 'vmadmin'"
    - - system prof-edit --name=default --system=vmguest01 --zvm-pass=vmpassword3
      - 'Item successfully updated'
    - - system prof-list --name=default --system=vmguest01
      - "Credentials *: .*'host_zvm': {.*'passwd': 'vmpassword3'"
    - - system prof-edit --name=default --system=vmguest01 --zvm-pass=vmpassword4 --zvm-by=vmadmin2
      - 'Item successfully updated'
    - - system prof-list --name=default --system=vmguest01
      - "Credentials *: .*'host_zvm': {.*'passwd': 'vmpassword4'"
    - - system prof-list --name=default --system=vmguest01
      - "Credentials *: .*'host_zvm': {.*'byuser': 'vmadmin2'"
  system_model:
    - - system model-list
      - 'Model name identifier    : ZGENERIC'
    - - system model-add --name=Z196_M50 --title=Z196 --arch=s390x
      - 'permission denied. Server answered: You need administrator privileges to perform this operation'
    - - - conf key-gen
        - dev1@example.com
        - password
      - Key successfully created and added to client configuration.
    - - system model-add --name=Z196_M50 --title=Z196 --arch=s390x
      - Item added successfully.
    - - system model-edit --name=Z196_M40
      - model not found.
    - - system model-edit --name=Z196_M50
      - no update criteria provided.
    - - system model-edit --name=Z196_M50 --newname=Z196_M51
      - Item successfully updated.
    - - system model-del --name=Z196_M50
      - model not found.
    - - system model-del --name=Z196_M51
      - Item successfully deleted.
  system_iface:
    - - system iface-types
      - 'Type name   : OSA'
    # 'system iface-add' subcommand
    - - system iface-add
      - Missing option "--system".
    - - system iface-add --system=cpc3lp52
      - Missing option "--name".
    - - system iface-add --name='osa iface'
      - Missing option "--system".
    - - system iface-add --system=cpc3lp52 --name='osa iface'
      - Missing option "--type".
    - - system iface-add --system=cpc3lp52 --name='osa iface' --type=OSA
      - Missing option "--osname".
    - - system iface-add --system=cpc3lp52 --name='osa iface' --type=OSA --osname=en0
      - 'a mac address must be specified'
    - - system iface-add --system=cpc3lp52 --name='osa iface' --type=OSA --osname=en0 --mac=02:57:52:00:70:00
      - '--ccwgroup must be specified'
    - - system iface-add --system= --name='osa iface' --type=OSA --osname=en0 --mac=02:57:52:00:70:00 --ccwgroup=f500,f501,f502
      - 'Invalid value for "--system": value may not be empty'
    - - system iface-add --system=xxxx --name='osa iface' --type=OSA --osname=en0 --mac=02:57:52:00:70:00 --ccwgroup=f500,f501,f502
      - "request failed. Server answered: No associated item found with value 'xxxx' for field 'System'"
    - - system iface-add --system=cpc3lp52 --name= --type=osa --osname=en0 --mac=02:57:52:00:70:00 --ccwgroup=f500,f501,f502
      - 'Invalid value for "--name": value may not be empty'
    - - system iface-add --system=cpc3lp52 --name=dummy --type=osa --osname=en0 --mac=02:57:52:00:70:00 --ccwgroup=f500,f501,f502
      - Item added successfully.
    - - system iface-add --system=cpc3lp52 --name='osa iface' --type= --osname=en0 --mac=02:57:52:00:70:00 --ccwgroup=f500,f501,f502
      - 'Invalid value for "--type": value may not be empty'
    - - system iface-add --system=cpc3lp52 --name='osa iface' --type= --osname=en0 --mac=02:57:52:00:70:00
      - 'Invalid value for "--type": value may not be empty'
    - - system iface-add --system=cpc3lp52 --name='osa iface' --type=os --osname=en0 --mac=02:57:52:00:70:00
      - 'invalid interface type \(see iface-types\)'
    - - system iface-add --system=cpc3lp52 --name='osa iface' --type=MACVTAP --osname=en0 --mac=02:57:52:00:70:00
      - 'one of --hostiface or --libvirt must be specified, but not both'
    - - system iface-add --system=cpc3lp52 --name='osa iface' --type=osa --osname= --mac=02:57:52:00:70:00 --ccwgroup=f500,f501,f502
      - 'Invalid value for "--osname": value may not be empty'
    - - system iface-add --system=cpc3lp52 --name='osa iface2' --type=osa --osname=en0 --mac=  --ccwgroup=f500,f501,f502
      - 'Invalid value for "--mac": value may not be empty'
    - - system iface-add --system=cpc3lp52 --name='osa iface2' --type=osa --osname=en0 --mac=0257:52:00:70:00 --ccwgroup=f500,f501,f502
      - 'Invalid value for "--mac": 0257:52:00:70:00 is not a valid mac address'
    - - system iface-add --system=cpc3lp52 --name='osa iface2' --type=osa --osname=en0 --mac=02:57:52:00:70:00 --ccwgroup=
      - 'Invalid value for "--ccwgroup":  is not a valid qeth ccwgroup'
    - - system iface-add --system=cpc3lp52 --name='osa iface2' --type=osa --osname=en0 --mac=02:57:52:00:70:00 --ccwgroup=f500,f501
      - 'Invalid value for "--ccwgroup": f500,f501 is not a valid qeth ccwgroup'
    - - system iface-add --system=cpc3lp52 --name='osa iface2' --type=osa --osname=en0 --mac=02:57:52:00:70:00 --ccwgroup=500,501,502
      - 'Invalid value for "--ccwgroup": 500 is not a valid devno'
    - - system iface-add --system=cpc3lp52 --name='osa iface2' --type=osa --osname=en0 --mac=02:57:52:00:70:00 --ccwgroup=f500,f501,f502
      - Item added successfully.
    - - system iface-add --system=cpc3lp52 --name='default osa' --type=OSA --osname=enccw0.0.f500 --mac=02:57:52:00:76:00 --layer2=true --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.161.222
      - Item added successfully.
    - - system iface-add --system=cpc3lp52 --name='default osa1' --type=OSA --osname=enccw0.0.f500 --mac=02:57:52:00:76:00 --layer2=true --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet= --ip=192.168.161.222
      - 'Invalid value for "--subnet": value may not be empty'
    - - system iface-add --system=cpc3lp52 --name='default osa1' --type=OSA --osname=enccw0.0.f500 --mac=02:57:52:00:76:00 --layer2=0 --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.161.22222
      - 'Invalid value for "--ip": 192.168.161.22222 is not a valid ip address'
    - - system iface-add --system=cpc3lp52 --name='default osa1' --type=OSA --osname=enccw0.0.f500 --mac=02:57:52:00:76:00 --layer2=tru --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.161.222
      - 'Invalid value for "--layer2": tru is not a valid boolean'
    - - system iface-add --system=cpc3lp52 --name='default osa1' --type=OSA --osname=enccw0.0.f500 --mac=02:57:52:00:76:00 --layer2=0 --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.161.222
      - Item added successfully.
    - - system iface-add --system=cpc3lp52 --name='default osa1' --type=OSA --osname=enccw0.0.f500 --mac=02:57:52:00:76:00 --layer2=true --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=
      - 'Invalid value for "--ip": value may not be empty'
    - - system iface-add --system=cpc3lp52 --name='default osa1' --type=OSA --osname=enccw0.0.f500 --mac=02:57:52:00:76:00 --layer2=true --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.161.222 --hostiface=enccw0.0.f500
      - invalid attribute for this iface type
    - - system iface-add --system=cpc3lp52 --name='default osa1' --type=OSA --osname=enccw0.0.f500 --mac=02:57:52:00:76:00 --layer2=true --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.161.222 --libvirt='kvm-guest.xml'
      - invalid attribute for this iface type
    - - system iface-add --system=cpc3lp52 --name='default osa2' --type=OSA --osname=enccw0.0.f500 --mac=02:57:52:00:76:00 --layer2=true --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.161.222 --portname=OSAE1
      - Item added successfully.
    - - system iface-add --system=cpc3lp52 --name='default osa3' --type=OSA --osname=enccw0.0.f500 --mac=02:57:52:00:76:00 --layer2=true --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.161.222 --portno=65
      - Item added successfully.
    - - system iface-add --system=cpc3lp52 --name='default osa4' --type=OSA --osname=enccw0.0.f500 --layer2=false --ccwgroup=f500 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.161.222 --portno=65
      - 'Invalid value for "--ccwgroup": f500 is not a valid qeth ccwgroup'
    - - system iface-add --system=cpc3lp52 --name='default osa4' --type=OSA --osname=enccw0.0.f500 --layer2=false --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.161.222 --portno=65
      - Item added successfully.
      # iface-add with ip and without subnet
    - - system iface-add --system=guest55 --name='default macvtap' --type=macvtap --osname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --ip=192.168.160.55 --hostiface=enccw0.0.f500
      - '--subnet and --ip must be specified together'
      # iface-add: invalid attribute '--layer2' for this iface type
    - - system iface-add --system=guest55 --name='default macvtap' --type=macvtap --osname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --layer2=true --hostiface=enccw0.0.f500
      - invalid attribute for this iface type
      # iface-add: macvtap without libvirt or hostiface
    - - system iface-add --system=guest55 --name='default macvtap' --type=macvtap --osname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.160.55
      - 'one of --hostiface or --libvirt must be specified, but not both'
    - - system iface-add --system=guest55 --name='default macvtap' --type=macvtap --osname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.160.55 --hostiface=enccw0.0.f500
      - Item added successfully.
    - - system iface-add --system=guest55 --name='default macvtap1' --type=macvtap --osname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.160.55 --hostiface=
      - Item added successfully.
    - - system iface-add --system=guest55 --name='default macvtap2' --type=macvtap --osname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.160.55 --libvirt=
      - Item added successfully.
    - - system iface-add --system=guest55 --name='default macvtap3' --type=macvtap --osname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.160.55 --libvirt='kvm.xml'
      - "No such file or directory: 'kvm.xml'"
    - - system iface-add --system=guest55 --name='default macvtap4' --type=macvtap --osname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='/GEO_1-NE-1822' --ip=192.168.160.55 --libvirt='kvm-guest.xml'
      - 'Invalid value for "--subnet": /GEO_1-NE-1822 is not a valid subnet'
    - - system iface-add --system=guest55 --name='default macvtap4' --type=macvtap --osname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.160.55 --libvirt='kvm-guest.xml'
      - Item added successfully.
    - - system iface-add --system=guest55 --name='default macvtap5' --type=macvtap --osname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.160.55 --libvirt='kvm-guest.xml' --hostiface=enccw0.0.f500
      - 'one of --hostiface or --libvirt must be specified, but not both'
   # 'system iface-list' subcommand
    - - system iface-list
      - at least one of --system or --name must be specified
    - - system iface-list --system=cpc3lp53
      - No results were found.
    - - system iface-list --system=xxxx
      - No results were found.
    - - system iface-list --system=
      - 'Invalid value for "--system": value may not be empty'
    - - system iface-list --name='osa iface1'
      - No results were found.
    - - system iface-list --name=xxx
      - No results were found.
    - - system iface-list --name=
      - 'Invalid value for "--name": value may not be empty'
    - - system iface-list --system=guest55
      - 'Interface name             : default macvtap'
    - - system iface-list --system=cpc3lp52
      - 'Interface name             : default osa'
    - - system iface-list --system=guest55 --type=macvtap
      - 'Interface name             : default macvtap'
    - - system iface-list --system=cpc3lp52 --type=lpar
      - No results were found.
    - - system iface-list --system=cpc3lp52 --type=
      - 'Invalid value for "--type": value may not be empty'
    - - system iface-list --system=cpc3lp52 --osname=en0
      - 'Interface name             : osa iface'
    - - system iface-list --system=cpc3lp52 --osname=en10
      - No results were found.
    - - system iface-list --system=cpc3lp52 --osname=
      - 'Invalid value for "--osname": value may not be empty'
    - - system iface-list --system=cpc3lp52 --mac=02:57:52:00:70:00
      - 'Interface name             : osa iface'
    - - system iface-list --system=cpc3lp52 --mac=02:57:52:00:70:05
      - No results were found.
    - - system iface-list --system=cpc3lp52 --mac=
      - 'Invalid value for "--mac": value may not be empty'
    - - system iface-list --system=cpc3lp52 --mac=02:57:52:00:7000
      - 'Invalid value for "--mac": 02:57:52:00:7000 is not a valid mac address'
    - - system iface-list --system=cpc3lp52 --ip=192.168.161.222
      - 'Interface name             : default osa'
    - - system iface-list --system=cpc3lp52 --ip=192.168.161.300
      - 'Invalid value for "--ip": 192.168.161.300 is not a valid ip address'
    - - system iface-list --system=cpc3lp52 --ip=9152.161.222
      - 'Invalid value for "--ip": 9152.161.222 is not a valid ip address'
    - - system iface-list --system=cpc3lp52 --ip=
      - 'Invalid value for "--ip": value may not be empty'
    # 'system iface-edit' subcommand
    - - system iface-edit
      - Missing option "--system".
    - - system iface-edit --system=cpc3lp52
      - Missing option "--name".
    - - system iface-edit --name='default osa2'
      - Missing option "--system".
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --newname=
      - 'Invalid value for "--newname": value may not be empty'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --newname='default osa22'
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa22' --newname='default osa'
      - 'request failed. Server answered: An item with the provided value'
    - - system iface-edit --system= --name='default osa22' --newname='default osa2'
      - 'Invalid value for "--system": value may not be empty'
    - - system iface-edit --system=cpc3lp52 --name= --newname='default osa2'
      - 'Invalid value for "--name": value may not be empty'
    - - system iface-edit --system=cpc3lp52 --name=dummy --newname='default osa2'
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp55 --name='default osa22' --newname='default osa2'
      - network interface not found.
    - - system iface-edit --system=cpc3lp52 --name='default osa23' --newname='default osa2'
      - network interface not found.
    - - system iface-edit --system=cpc3lp52 --name='default osa22' --newname='default osa2'
      - 'request failed. Server answered: An item with the provided value'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --type=dummy
      - "request failed. Server answered: No associated item found with value 'DUMMY' for field 'Interface type'"
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --type=OS
      - "request failed. Server answered: No associated item found with value 'OS' for field 'Interface type'"
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --type=macvtap
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --type=OSA
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --osname=
      - 'Invalid value for "--osname": value may not be empty'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --osname=en0
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --mac=
      - 'Invalid value for "--mac": value may not be empty'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --mac=0257:52:00:76:00
      - 'Invalid value for "--mac": 0257:52:00:76:00 is not a valid mac address'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --mac=02:57:52:00:76:00
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --subnet=
      - 'Invalid value for "--subnet": value may not be empty'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --ip=192.168.161.222
      - '--subnet and --ip must be specified together'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --subnet='GEO_1' --ip=192.168.161.222
      - "request failed. Server answered: No associated item found with value 'GEO_1/192.168.161.222' for field 'IP address'"
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --subnet='/GEO_1-NE-1822' --ip=192.168.161.222
      - 'Invalid value for "--subnet": /GEO_1-NE-1822 is not a valid subnet'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --subnet='GEO_1-NE-1822' --ip=192.168.161.222
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --ip=
      - 'Item successfully updated.'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --subnet='GEO_1-NE-1822' --ip=9152.161.222
      - 'Invalid value for "--ip": 9152.161.222 is not a valid ip address'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --subnet='GEO_1-NE-1822' --ip=
      - 'Invalid value for "--ip":  is not a valid ip address'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --layer2=
      - 'Invalid value for "--layer2":  is not a valid boolean'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --layer2=fals
      - 'Invalid value for "--layer2": fals is not a valid boolean'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --layer2=false
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --ccwgroup=
      - 'Invalid value for "--ccwgroup":  is not a valid qeth ccwgroup'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --ccwgroup=500,f501,f502
      - 'Invalid value for "--ccwgroup": 500 is not a valid devno'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --ccwgroup=f500
      - 'Invalid value for "--ccwgroup": f500 is not a valid qeth ccwgroup'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --ccwgroup=f500,f501,f502
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --desc=
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --desc='gateway interface'
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --hostiface=
      - invalid attribute for this iface type
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --hostiface=enccw0.0.f500
      - invalid attribute for this iface type
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --libvirt=
      - invalid attribute for this iface type
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --libvirt='kvm.xml'
      - "No such file or directory: 'kvm.xml'"
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --libvirt='kvm-guest.xml'
      - invalid attribute for this iface type
    - - system iface-edit --system=cpc3lp52 --name='default osa' --type=OSA --osname=enccw0.0.f500 --mac=02:57:52:00:76:00 --layer2=true --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='' --ip=''
      - 'Invalid value for "--subnet": value may not be empty'
    - - system iface-edit --system=cpc3lp52 --name='default osa' --type=OSA --osname=enccw0.0.f500 --mac=02:57:52:00:76:00 --layer2=true --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --ip=''
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa' --ccwgroup=0xf500,0.0.f501,f502
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa' --ccwgroup='f501 f502 f503'
      - 'Invalid value for "--ccwgroup": f501 f502 f503 is not a valid qeth ccwgroup'
    - - system iface-edit --system=cpc3lp52 --name='default osa' --ccwgroup=''
      - 'Invalid value for "--ccwgroup":  is not a valid qeth ccwgroup'
    - - system iface-edit --system=guest55 --name='macvtap'
      - network interface not found.
      # with ip and without subnet
    - - system iface-edit --system=guest55 --name='default macvtap' --type=macvtap --osname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --ip=192.168.160.55 --hostiface=enccw0.0.f500
      - '--subnet and --ip must be specified together'
      # with subnet and without ip
    - - system iface-edit --system=guest55 --name='default macvtap' --type=macvtap --osname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='GEO_1-NE-1822' --hostiface=enccw0.0.f500
      - '--subnet and --ip must be specified together'
      # without ip and without subnet
    - - system iface-edit --system=guest55 --name='default macvtap' --type=macvtap --osname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --hostiface=enccw0.0.f500
      - Item successfully updated.
      # with ip and with subnet
    - - system iface-edit --system=guest55 --name='default macvtap' --type=macvtap --osname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.160.55 --hostiface=enccw0.0.f500
      - Item successfully updated.
      # invalid attribute for this iface type
    - - system iface-edit --system=guest55 --name='default macvtap' --type=macvtap  --layer2=true
      - invalid attribute for this iface type
    - - system iface-edit --system=guest55 --name='default macvtap' --type=macvtap  --ccwgroup=f500,f501,f502
      - invalid attribute for this iface type
    - - system iface-edit --system=guest55 --name='default macvtap' --type=macvtap  --portname=OSAE1
      - invalid attribute for this iface type
    - - system iface-edit --system=guest55 --name='default macvtap' --type=macvtap  --portno=65
      - invalid attribute for this iface type
      # no update criteria
    - - system iface-edit --system=guest55 --name='default macvtap'
      - no update criteria provided.
      # macvtap without libvirt or hostiface
    - - system iface-edit --system=guest55 --name='default macvtap' --hostiface=''
      - 'one of --hostiface or --libvirt must be present, but not both'
      # macvtap with libvirt; an empty file ~/tessia/cli/tests/kvm-guest.xml is used
    - - system iface-edit --system=guest55 --name='default macvtap'  --hostiface= --libvirt='kvm-guest.xml'
      - Item successfully updated.
    - - system iface-edit --system=guest55 --name='default macvtap' --libvirt='kvm.xml'
      - "No such file or directory: 'kvm.xml'"
    - - system iface-edit --system=guest55 --name='default macvtap' --libvirt=''
      - 'one of --hostiface or --libvirt must be present, but not both'
      # change type to OSA
    - - system iface-edit --system=guest55 --name='default macvtap' --type=OSA
      - Item successfully updated.
    - - system iface-edit --system=guest55 --name='default macvtap' --type=OSA  --layer2=true
      - '--ccwgroup must be present'
    # 'system iface-del' subcommand
    - - system iface-del
      - Missing option "--system".
    - - system iface-del --system=guest55
      - Missing option "--name".
    - - system iface-del --name='default macvtap'
      - Missing option "--system".
    - - system iface-del --system=guest55 --name='macvtap'
      - network interface not found.
    - - system iface-del --system=guest60 --name='default macvtap'
      - network interface not found.
    - - system iface-del --system=guest55 --name='default macvtap'
      - Item successfully deleted.
  system_prof:
    # 'system prof-add' subcommand
    - - system prof-add
      - Missing option "--system".
    - - system prof-add --system=cpc3lp52
      - Missing option "--name".
    - - system prof-add --name='DASD'
      - Missing option "--system".
    - - system prof-add --system=cpc3lp52 --name='DASD'
      - Missing option "--login".
    - - system prof-add --system=cpc3lp52 --name='DASD' --login=
      - 'Invalid value for "--login": value may not be empty'
    - - system prof-add --system= --name='DASD'  --login='root:mypasswd'
      - 'Invalid value for "--system": value may not be empty'
    - - system prof-add --system=cpc3lp52 --name='DASD'  --login='root:mypasswd'
      - Item added successfully.
    - - system prof-list --name='DASD'
      - 'Missing option "--system"'
    - - system prof-add --system= --name='DASD1' --login='root:mypasswd'
      - 'Invalid value for "--system": value may not be empty'
    - - system prof-add --system=cpc3lp52 --name= --login='root:mypasswd'
      - 'Invalid value for "--name": value may not be empty'
    - - system prof-add --system=cpc3lp60 --name='DASD2' --login='root:mypasswd'
      - "request failed. Server answered: No associated item found with value 'cpc3lp60' for field 'System'"
    - - system prof-add --system=cpc3lp52 --name='DASD3' --cpu= --login='root:mypasswd'
      - 'Invalid value for "--cpu":  is not a valid integer'
    - - system prof-add --system=cpc3lp52 --name='DASD4' --cpu=4 --login='root:mypasswd'
      - Item added successfully.
    - - system prof-add --system=cpc3lp52 --name='DASD5' --cpu=4 --memory= --login='root:mypasswd'
      - invalid memory size specified.
    - - system prof-add --system=cpc3lp52 --name='DASD6' --cpu=4 --memory=2048mib --default=yes --login='root:mypasswd'
      - --default option does not take a value
    - - system prof-add --system=cpc3lp52 --name='DASD7' --default --login='root:mypasswd'
      - Item added successfully.
      # edit default profile 
    - - system prof-edit --system=cpc3lp52 --name=DASD7 --memory
      - '--memory option requires an argument'
    - - system prof-edit --system=cpc3lp52 --name=DASD7 --memory=2gb
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD7 --newname=
      - 'Invalid value for "--newname": value may not be empty'
    - - system prof-edit --system=cpc3lp52 --name=DASD7 --newname=DASD17
      - Item successfully updated.
      # The next default profile changes the status of the existing default profile to 'not default'      
    - - system prof-add --system=cpc3lp52 --name='DASD10' --default --cpu=4 --login='root:mypasswd'
      - Item added successfully.
    - - system prof-add --system=cpc3lp52 --name='DASD11' --default --memory=2gib --login='root:mypasswd'
      - Item added successfully.
    - - system prof-list --system=cpc3lp52
      - 'Profile name                : DASD'
    - - system prof-list --system=cpc3lp52 --memory=12
      - No results were found.
    - - system prof-list --system=cpc3lp52 --memory=AAAmb
      - invalid memory size specified.
    - - system prof-list --system=cpc3lp52 --memory=AAAmib
      - invalid memory size specified.
    - - system prof-list --system=cpc3lp52 --memory=12mm
      - invalid memory size specified.
    - - system prof-add --system=cpc3lp52 --name='DASD8' --hyp= --login='root:mypasswd'
      - 'Invalid value for "--hyp": value may not be empty'
    - - system prof-add --system=cpc3lp52 --name='DASD9' --hyp='default cpc3' --login='root:mypasswd'
      - "request failed. Server answered: No associated item found with value 'default cpc3' for field 'Required hypervisor profile'"
    - - system prof-add --system=cpc3 --name='default cpc3' --cpu=43 --memory=1136g --login='DEVEL1:somepwd'
      - invalid memory size specified.
    - - system prof-add --system=cpc3 --name='default cpc3' --cpu=43 --memory=1136gib --login='DEVEL1:somepwd'
      - Item added successfully.
    - - system prof-add --system=cpc3 --name='alternate' --cpu=43 --memory=1136gib --login='DEVEL1:somepwd'
      - A CPC system can only have one system profile
    - - system prof-add --system=cpc3lp52 --name='DASD root1' --cpu=4 --memory=2048mib --login='root:mypasswd' --hyp='cpc3/default cpc3'
      - 'Invalid value for "--hyp"'
    - - system prof-add --system=cpc3lp52 --name='DASD root1' --cpu=4 --memory=2048mib --login='root-mypasswd' --hyp='default cpc3'
      - invalid format specified for login
    - - system prof-add --system=cpc3lp52 --name='DASD root1' --cpu=4 --memory=2048mib --login='root:mypasswd' --hyp='default cpc3'
      - Item added successfully.
    # 'system prof-list' subcommand
    - - system prof-list
      - 'Missing option "--system"'
    - - system prof-list --system=cpc3lp66
      - No results were found.
    - - system prof-list --system=
      - 'Invalid value for "--system": value may not be empty'
    - - system prof-list --system=cpc3lp52
      - 'Profile name                : DASD root1'
    - - system prof-list --name=
      - 'Invalid value for "--name": value may not be empty'
    - - system prof-list --name='DASD root1'
      - 'Missing option "--system"'
    - - system prof-list --system=cpc3lp52 --name='DASD4'
      - 'Profile name                : DASD4'
    - - system prof-list --system=cpc3lp52 --name='DASD root1' --cpu
      - ' --cpu option requires an argument'
    - - system prof-list --system=cpc3lp52 --name='DASD root1' --cpu=4
      - 'Profile name                : DASD root1'
    - - system prof-list --system=cpc3lp52 --cpu=4
      - 'Profile name                : DASD root1'
    - - system prof-list --system=cpc3lp52 --cpu=3
      - No results were found.
    - - system prof-list --system=cpc3lp52 --memory
      - '--memory option requires an argument'
    - - system prof-list --system=cpc3lp52 --memory=2048mb
      - No results were found.
    - - system prof-list --system=cpc3lp52 --memory=2048mib
      - 'Profile name                : DASD root1'
    - - system prof-list --system=cpc3lp52 --memory=2gb
      - 'Profile name                : DASD17'
    - - system prof-list --system=cpc3lp52 --memory=2gib
      - 'Profile name                : DASD root1'
    - - system prof-list --system=cpc3lp52 --memory=1024mb
      - No results were found.
    - - system prof-list --system=cpc3lp52 --memory=1024mib
      - No results were found.
    - - system prof-list --system=cpc3lp52 --memory=1gb
      - 'Profile name                : DASD10'
    - - system prof-list --system=cpc3lp52 --memory=1gib
      - No results were found.
      # expecting DASD11 as it was the last to be set as default
    - - system prof-list --system=cpc3lp52 --default
      - 'Profile name                : DASD11'
    - - system prof-list --system=cpc3lp52 --hyp
      - '--hyp option requires an argument'
    - - system prof-list --system=cpc3lp52 --hyp='default cpc3'
      - 'Profile name                : DASD root1'
    - - system prof-list --system=cpc3lp52 --hyp=cpc3
      - No results were found.
      # prof-list in prof.py: 178-182 stmts
    - - system iface-attach --system=cpc3lp52 --profile='DASD root1' --iface='default osa'
      - Network interface attached successfully.
    - - system prof-list --system=cpc3lp52
      - 'Profile name                : DASD root1'
    - - system iface-edit --system=cpc3lp52 --name='default osa' --subnet='GEO_1-NE-1822' --ip=192.168.161.222
      - Item successfully updated.
    - - system prof-list --system=cpc3lp52
      - 'Profile name                : DASD root1'
    - - system prof-list --system=cpc3
      - 'Profile name                : default cpc3'
    # 'system prof-edit' subcommand
    - - system prof-edit
      - Missing option "--system".
    - - system prof-edit --system=cpc3lp52
      - Missing option "--name".
    - - system prof-edit --name=DASD7
      - Missing option "--system".
    - - system prof-edit --system=cpc3lp52 --name=DASD7
      - system profile not found.
    - - system prof-edit --system=cpc3lp52 --name=DASD
      - no update criteria provided.
    - - system prof-edit --system=cpc3lp52 --name= --memory=2gib
      - 'Invalid value for "--name": value may not be empty'
    - - system prof-edit --system=cpc3lp52 --name=DASD --memory
      - '--memory option requires an argument'
    - - system prof-edit --system= --name=DASD --memory=2gib
      - 'Invalid value for "--system": value may not be empty'
    - - system prof-edit --system=cpc3lp52 --name=DASD --memory=2gib
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD10 --memory=2gib
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD11 --memory=2gib
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --memory=2gib
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --memory=1024mib
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp22 --name=DASD4 --memory=2gib
      - system profile not found.
    - - system prof-edit --system=cpc3lp52 --name=DISK4 --memory=2gib
      - system profile not found.
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --newname=DASD
      - 'request failed. Server answered: An item with the provided value'
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --newname=DASD14
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD14 --cpu
      - '--cpu option requires an argument'
    - - system prof-edit --system=cpc3lp52 --name=DASD14 --cpu=0
      - 'Invalid value for "--cpu": 0 is smaller than the minimum valid value 1.'
    - - system prof-edit --system=cpc3lp52 --name=DASD14 --cpu=A
      - 'Invalid value for "--cpu": A is not a valid integer'
    - - system prof-edit --system=cpc3lp52 --name=DASD14 --cpu=4
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD14 --default=no
      - '--default option does not take a value'
    - - system prof-del --system=cpc3lp52 --name=DASD10
      - Item successfully deleted.
    - - system prof-del --system=cpc3lp52 --name=
      - 'Invalid value for "--name": value may not be empty'
      # a default profile cannot be deleted when others exist
    - - system prof-del --system=cpc3lp52 --name=DASD11
      - A default profile cannot be removed while other profiles for the same system exist
    - - system prof-edit --system=cpc3lp52 --name=DASD14 --default
      - Item successfully updated.
        # now it can be deleted
    - - system prof-del --system=cpc3lp52 --name=DASD11
      - Item successfully deleted.
    - - system prof-edit --system=cpc3lp52 --name=DASD14 --newname=DASD4
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --memory=2gb
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --gateway
      - --gateway option requires an argument
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --gateway='default macvtap4'
      - "request failed. Server answered: No associated item found with value 'default macvtap4' for field 'Gateway interface'"
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --gateway=xxxx
      - "request failed. Server answered: No associated item found with value 'xxxx' for field 'Gateway interface'"
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --gateway='default osa3'
      - "request failed. Server answered: No associated item found with value 'default osa3' for field 'Gateway interface'"
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --hyp=
      - 'Invalid value for "--hyp": value may not be empty'
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --hyp='default cpc5'
      - "request failed. Server answered: No associated item found with value 'default cpc5' for field 'Required hypervisor profile'"
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --hyp='default cpc3'
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --login
      - --login option requires an argument
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --login=root
      - invalid format specified for login
    - - system prof-edit --system=cpc3 --name='default cpc3' --memory=1136g
      - invalid memory size specified.
    - - system prof-edit --system=cpc3 --name='default cpc3' --hyp='cpc3/default cpc3'
      - 'Invalid value for "--hyp"'
    - - system prof-edit --system=cpc3 --name='default cpc3' --login='root-mypasswd'
      - invalid format specified for login
    - - system prof-edit --system=cpc3 --name='default cpc3' --login='root mypasswd'
      - "Invalid value for \"--login\": 'root mypasswd' is not a valid login"
    - - system prof-edit --system=cpc3 --name='default cpc3' --login='root:mypasswd'
      - Item successfully updated.
    - - system prof-edit --system=cpc3 --name='cpc3' --memory=1136gib
      - system profile not found.
    - - system prof-edit --system=cpc3 --name='default cpc3' --memory=1136gib
      - Item successfully updated.
    - - system prof-edit --system=cpc3 --name='default cpc3'
      - no update criteria provided.
    # 'system iface-attach' subcommand
    - - system iface-attach
      - Missing option "--system".
    - - system iface-attach --system=cpc3lp52
      - Missing option "--profile".
    - - system iface-attach --name=DASD4
      - 'no such option: --name'
    - - system iface-attach --system=cpc3lp52 --profile=DASD4 --iface=
      - 'Invalid value for "--iface": value may not be empty'
    - - system iface-attach --system= --profile=DASD4 --iface='default osa2'
      - 'Invalid value for "--system": value may not be empty'
    - - system iface-attach --system=cpc3lp52 --profile=DASD4 --iface=default
      - no network interface found.
    - - system iface-attach --system=cpc3lp52 --profile=DASD4 --iface='default osa2'
      - Network interface attached successfully.
    - - system iface-attach --system=cpc3lp52 --profile=DASD4 --iface='default osa2'
      - 'request failed. Server answered: An item with the provided value'
    - - system iface-attach --system=cpc3lp52 --profile=DASD4 --iface='default osa1'
      - Network interface attached successfully.
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --gateway='default osa3'
      - "request failed. Server answered: No associated item found with value 'default osa3' for field 'Gateway interface'"
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --gateway='default osa2'
      - Item successfully updated.
    # 'system iface-detach' subcommand
    - - system iface-detach
      - Missing option "--system".
    - - system iface-detach --system=cpc3lp52
      - Missing option "--profile".
    - - system iface-detach --name=DASD4
      - 'no such option: --name'
    - - system iface-detach --system= --profile=DASD4 --iface='default osa2'
      - 'Invalid value for "--system": value may not be empty'
    - - system iface-detach --system=cpc3lp52 --profile=DASD4 --iface=
      - 'Invalid value for "--iface": value may not be empty'
    - - system iface-detach --system=cpc3lp52 --profile=DASD4 --iface=default
      - no network interface found.
    - - system iface-detach --system=cpc3lp55 --profile=DASD4 --iface='default osa2'
      - no profile found.
    - - system iface-detach --system=cpc3lp52 --profile=DASD44 --iface='default osa2'
      - no profile found.
    - - system iface-detach --system=cpc3lp52 --profile=DASD4 --iface='default osa2'
      - Network interface detached successfully.
    - - system iface-detach --system=cpc3lp52 --profile=DASD4 --iface='default osa2'
      - "request failed. Server answered: No associated item found with value '[0-9]+,[0-9]+' for field 'profile_id,iface_id'"
    - - system iface-detach --system=cpc3lp52 --profile=DASD4 --iface='default osa1'
      - Network interface detached successfully.
    - - system iface-detach --system=cpc3lp52 --profile=DASD4 --iface='default osa3'
      - "request failed. Server answered: No associated item found with value '[0-9]+,[0-9]+' for field 'profile_id,iface_id'"
    - - system iface-detach --system=cpc3lp52 --profile=DASD4 --iface='default macvtap4'
      - no network interface found.
    # 'system vol-attach' subcommand
    - - system vol-attach
      - Missing option "--system".
    - - system vol-attach --system=cpc3lp52
      - Missing option "--profile".
    - - system vol-attach --profile=DASD4
      - Missing option "--system".
    - - system vol-attach --vol=3956
      - Missing option "--system".
    - - system vol-attach --profile=DASD4 --vol=3956
      - Missing option "--system".
    - - system vol-attach --system=cpc3lp52 --profile=DASD4 --vol=3956
      - Missing option "--server".
    - - system vol-attach --system= --profile=DASD4 --server=DS8K16 --vol=3956
      - 'Invalid value for "--system": value may not be empty'
    - - system vol-attach --system=cpc3lp52 --profile= --server=DS8K16 --vol=3956
      - 'Invalid value for "--profile": value may not be empty'
    - - system vol-attach --system=cpc3lp52 --profile=DASD4 --server= --vol=3956
      - no storage volume found.
    - - system vol-attach --system=cpc3lp52 --profile=DASD4 --server=DS8K16 --vol=
      - 'Invalid value for "--vol": value may not be empty'
    - - system vol-attach --system=cpc3lp55 --profile=DASD4 --server=DS8K16 --vol=3956
      - no profile found.
    - - system vol-attach --system=cpc3lp52 --profile=DASD44 --server=DS8K16 --vol=3956
      - no profile found.
    - - system vol-attach --system=cpc3lp52 --profile=DASD4 --server=DS8K66 --vol=3956
      - no storage volume found.
    - - system vol-attach --system=cpc3lp52 --profile=DASD4 --server=DS8K16 --vol=3966
      - no storage volume found.
    - - system vol-attach --system=cpc3lp52 --profile=DASD4 --server=DS8K16 --vol=3956
      - Volume attached successfully.
    - - system vol-attach --system=cpc3lp52 --profile=DASD4 --server=DS8K16 --vol=3952
      - Volume attached successfully.
    - - system vol-attach --system=cpc3 --profile='default cpc3' --server=DS8K16 --vol=3950
      - Volume attached successfully.
    - - system vol-attach --system=cpc3 --profile='default cpc3' --server=DS8K16 --vol=3951
      - A CPC system can have only one volume associated
    # 'system poweron' subcommand
    - - system poweron
      - Missing option "--name".
    - - system poweron --name
      - '--name option requires an argument'
    - - system poweron --name=
      - 'Invalid value for "--name": value may not be empty'
    - - system poweron --name=cpc3lp55
      - system cpc3lp55 not found.
    - - system poweron --name=cpc3lp52
      - 'Failed to establish a new connection'
    - - system poweron --name=cpc3lp52 --profile
      - '--profile option requires an argument'
    - - system poweron --name=cpc3lp52 --profile=
      - 'Invalid value for "--profile": value may not be empty'
    - - system poweron --name=cpc3lp52 --profile=DASD77
      - profile DASD77 not found.
    - - system poweron --name=cpc3lp52 --profile=DASD17
      - 'Profile DASD17 has no volume containing a root partition'
    - - system poweron --name=cpc3lp52 --profile=DASD17 --cpu
      - '--cpu option requires an argument'
    - - system poweron --name=cpc3lp52 --profile=DASD17 --cpu=
      - 'Invalid value for "--cpu":  is not a valid integer'
    - - system poweron --name=cpc3lp52 --profile=DASD17 --cpu=0
      - 'Invalid value for "--cpu": 0 is smaller than the minimum valid value 1.'
    - - system poweron --name=cpc3lp52 --profile=DASD17 --cpu=A
      - 'Invalid value for "--cpu": A is not a valid integer'
    - - system poweron --name=cpc3lp52 --profile=DASD4 --cpu=8
      - 'Failed to establish a new connection'
    - - system poweron --name=cpc3lp52 --profile=DASD4 --memory
      - '--memory option requires an argument'
    - - system poweron --name=cpc3lp52 --profile=DASD4 --memory=
      - 'invalid memory size specified.'
    - - system poweron --name=cpc3lp52 --profile=DASD4 --memory=2g
      - 'invalid memory size specified.'
    - - system poweron --name=cpc3lp52 --profile=DASD4 --memory=2gb
      - 'Failed to establish a new connection'
    - - system poweron --name=cpc3lp52 --force=true
      - '--force option does not take a value'
    - - system poweron --name=cpc3lp52 --forc
      - 'no such option: --forc  Did you mean --force?'
    - - system poweron --name=cpc3lp52 --force
      - 'Failed to establish a new connection'
    - - system poweron --name=cpc3lp52 --noverify=true
      - '--noverify option does not take a value'
    - - system poweron --name=cpc3lp52 --noverif
      - 'no such option: --noverif  Did you mean --noverify?'
    - - system poweron --name=cpc3lp52 --noverify
      - 'Failed to establish a new connection'
    - - system poweron --name=cpc3lp52 --exclusive=true
      - '--exclusive option does not take a value'
    - - system poweron --name=cpc3lp52 --exclus
      - 'no such option: --exclus  Did you mean --exclusive?'
    - - system poweron --name=cpc3lp52 --exclusive
      - Default profile for system cpc3lp53 does not exist.
    # 'system poweroff' subcommand
    - - system poweroff
      - Missing option "--name".
    - - system poweroff --name
      - '--name option requires an argument'
    - - system poweroff --name=
      - 'Invalid value for "--name": value may not be empty'
    - - system poweroff --name=cpc3lp55
      - system cpc3lp55 not found.
    - - system poweroff --name=cpc3lp52
      - 'Failed to establish a new connection'
    # 'system vol-detach' subcommand
    - - system vol-detach
      - Missing option "--system".
    - - system vol-detach --system=cpc3lp52
      - Missing option "--profile".
    - - system vol-detach --profile=DASD4
      - Missing option "--system".
    - - system vol-detach --vol=3956
      - Missing option "--system".
    - - system vol-detach --profile=DASD4 --vol=3956
      - Missing option "--system".
    - - system vol-detach --system=cpc3lp52 --profile=DASD4 --vol=3956
      - Missing option "--server".
    - - system vol-detach --system= --profile=DASD4 --server=DS8K16 --vol=3956
      - 'Invalid value for "--system": value may not be empty'
    - - system vol-detach --system=cpc3lp52 --profile= --server=DS8K16 --vol=3956
      - 'Invalid value for "--profile": value may not be empty'
    - - system vol-detach --system=cpc3lp52 --profile=DASD4 --server= --vol=3956
      - no storage volume found.
    - - system vol-detach --system=cpc3lp52 --profile=DASD4 --server=DS8K16 --vol=
      - 'Invalid value for "--vol": value may not be empty'
    - - system vol-detach --system=cpc3lp55 --profile=DASD4 --server=DS8K16 --vol=3956
      - no profile found.
    - - system vol-detach --system=cpc3lp52 --profile=DASD44 --server=DS8K16 --vol=3956
      - no profile found.
    - - system vol-detach --system=cpc3lp52 --profile=DASD4 --server=DS8K66 --vol=3956
      - no storage volume found.
    - - system vol-detach --system=cpc3lp52 --profile=DASD4 --server=DS8K16 --vol=3966
      - no storage volume found.
    - - system vol-detach --system=cpc3lp52 --profile=DASD4 --server=DS8K16 --vol=3956
      - Volume detached successfully.
    - - system vol-detach --system=cpc3lp52 --profile=DASD4 --server=DS8K16 --vol=3957
      - "request failed. Server answered: No associated item found with value .* for field 'profile_id,volume_id'"
    - - system vol-detach --system=cpc3lp52 --profile=DASD4 --server=DS8K16 --vol=3952
      - Volume detached successfully.
      # delete default profile if it is the last one
    - - system prof-list --system=cpc3lp52
      - 'Profile name                : DASD4'   
    - - system prof-del --system=cpc3lp52 --name='DASD root1'
      - Item successfully deleted.
    - - system prof-del --system=cpc3lp52 --name=DASD17
      - Item successfully deleted.
    - - system prof-del --system=cpc3lp52 --name=DASD
      - Item successfully deleted.
    - - system prof-list --system=cpc3lp52
      - 'Profile name                : DASD4'
    - - system prof-del --system=cpc3lp52 --name=DASD4
      - Item successfully deleted.
  # use case setting os manually
  set_os_manually:
    - - system prof-add --system=cpc3lp52 --name='Manual install' --cpu=4 --memory=2048mib --login='root:mypasswd' --os=
      - 'Error: Invalid value for "--os": value may not be empty'
    - - system prof-add --system=cpc3lp52 --name='Manual install' --cpu=4 --memory=2048mib --login='root:mypasswd' --os=wrong-os
      - "Error: request failed. Server answered: No associated item found with value 'wrong-os' for field 'Operating system'"
    - - system prof-add --system=cpc3lp52 --name='Manual install' --cpu=4 --memory=2048mib --login='root:mypasswd' --os=rhel7.4
      - "Item added successfully."
    - - system prof-list --system=cpc3lp52 --name='Manual install'
      - "Operating system *: rhel7.4"
    - - system prof-edit --system=cpc3lp52 --name='Manual install' --os=wrong-os
      - "Error: request failed. Server answered: No associated item found with value 'wrong-os' for field 'Operating system'"
    - - system prof-edit --system=cpc3lp52 --name='Manual install' --os=
      - "Item successfully updated."
    - - system prof-list --system=cpc3lp52 --name='Manual install'
      - "Operating system *: *\n"
    - - system prof-edit --system=cpc3lp52 --name='Manual install' --os=cms
      - "Item successfully updated."
    - - system prof-list --system=cpc3lp52 --name='Manual install'
      - "Operating system *: cms"
