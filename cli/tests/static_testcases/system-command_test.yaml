description: Additional test for the 'system' command
base_user: admin
tasks_order:
  - base_add
  - system_help
  - system_command
  - system_zvm
  - system_model
  - system_iface
  - system_prof
  - system_export_import
  - set_os_manually
tasks:
  base_add:
    # lab admin to create the lab resources
    - - perm project-add --name='GEO_1 labadmins' --desc='GEO_1 lab admins'
      - Item added successfully.
    - - perm user-add --login=lab_admin@example.com --name='ADMIN_LAB' --title='Title of lab admin'
      - User added successfully.
    - - perm role-grant --login=lab_admin@example.com --name='ADMIN_LAB' --project='GEO_1 labadmins'
      - User role added successfully.
    # create the target project
    - - perm project-add --name='GEO_1 developers' --desc='Developer team'
      - Item added successfully.
    # make sure lab admin also has permissions on this project
    - - perm role-grant --login=lab_admin@example.com --name='ADMIN_LAB' --project='GEO_1 developers'
      - User role added successfully.
    # create target user
    - - perm user-add --login=dev1@example.com --name='Developer 1' --title='Mr. Developer 1'
      - User added successfully.
    - - perm role-grant --login=dev1@example.com --name='USER' --project='GEO_1 developers'
      - User role added successfully.
    - - perm user-edit --login=dev1@example.com --restricted FALSE --admin TRUE
      - User successfully updated.
    # switch to lab admin user
    - - - conf key-gen
        - lab_admin@example.com
        - password
      - Key successfully created and added to client configuration.
    # create the net resources
    - - net zone-add --name=GEO_1-NE --project='GEO_1 labadmins' --desc='GEO-NE, VLAN 1822'
      - Item added successfully.
    - - net subnet-add --zone=GEO_1-NE --name='GEO_1-NE-1822' --address=192.168.160.0/22  --gw=192.168.160.1 --dns1=192.168.200.241 --vlan=1822 --project='GEO_1 labadmins' --desc='Shared zone vlan 1822'
      - Item added successfully.
      # ip for lpar
    - - net ip-add --subnet='GEO_1-NE-1822' --ip=192.168.161.222  --project='GEO_1 developers' --desc='For use by lpar 52'
      - Item added successfully.
      # ip for kvm
    - - net ip-add --subnet='GEO_1-NE-1822' --ip=192.168.160.55  --project='GEO_1 developers' --desc='For use by guest55'
      - Item added successfully.
    # create the storage resources
    - - storage server-add --name=DS8K16 --model=DS8000 --type=DASD-FCP --project='GEO_1 labadmins'
      - Item added successfully.
    - - storage vol-add --server=DS8K16 --type=DASD --id=3950 --size=7gb --project='GEO_1 labadmins' --desc='live-image disk for cpc cpc3'
      - Item added successfully.
    # create additional storage server and volume with same id to test conflicting volumes with same id
    - - storage server-add --name=DS8K26 --model=DS8000 --type=DASD-FCP --project='GEO_1 labadmins'
      - Item added successfully.
    - - storage vol-add --server=DS8K26 --type=DASD --id=3950 --size=7gb --project='GEO_1 labadmins' --desc='same id, different server'
      - Item added successfully.
    - - storage vol-add --server=DS8K16 --type=DASD --id=3951 --size=7gb --project='GEO_1 labadmins' --desc='second live-image disk for cpc cpc3'
      - Item added successfully.
    - - storage vol-add --server=DS8K16 --type=DASD --id=3952 --size=7gb --owner= --project='GEO_1 developers' --desc='belongs to zVM guest/LPAR'
      - Item added successfully.
    - - storage vol-add --server=DS8K16 --type=DASD --id=3956 --size=7gb --owner=dev1@example.com --project='GEO_1 developers' --desc='belongs to zVM guest/LPAR'
      - Item added successfully.
    - - storage part-init --id=3956 --label=dasd
      - Partition table successfully initialized.
    - - storage part-add --id=3956 --fs=ext4 --size=7gb --mp=/
      - Partition successfully added.
    - - storage vol-add --server=DS8K16 --type=DASD --id=3957 --size=7gb --owner=dev1@example.com --project='GEO_1 developers' --desc='belongs to zVM guest/LPAR'
      - Item added successfully.
    - - storage part-init --id=3957 --label=dasd
      - Partition table successfully initialized.
    - - storage part-add --id=3957 --fs=swap --size=7gb
      - Partition successfully added.
  system_help:
    - - system -h
      - 'Usage: tess system'
    - - system add -h
      - 'Usage: tess system add'
    - - system autoinstall -h
      - 'Usage: tess system autoinstall'
    - - system del -h
      - 'Usage: tess system del'
    - - system edit -h
      - 'Usage: tess system edit'
    - - system export -h
      - 'Usage: tess system export'
    - - system import -h
      - 'Usage: tess system import'
    - - system iface-add -h
      - 'Usage: tess system iface-add'
    - - system iface-attach -h
      - 'Usage: tess system iface-attach'
    - - system iface-del -h
      - 'Usage: tess system iface-del'
    - - system iface-detach -h
      - 'Usage: tess system iface-detach'
    - - system iface-edit -h
      - 'Usage: tess system iface-edit'
    - - system iface-list -h
      - 'Usage: tess system iface-list'
    - - system iface-types -h
      - 'Usage: tess system iface-types'
    - - system info -h
      - 'Usage: tess system info'
    - - system list -h
      - 'Usage: tess system list'
    - - system model-add -h
      - 'Usage: tess system model-add'
    - - system model-del -h
      - 'Usage: tess system model-del'
    - - system model-edit -h
      - 'Usage: tess system model-edit'
    - - system model-list -h
      - 'Usage: tess system model-list'
    - - system poweroff -h
      - 'Usage: tess system poweroff'
    - - system poweron -h
      - 'Usage: tess system poweron'
    - - system prof-add -h
      - 'Usage: tess system prof-add'
    - - system prof-del -h
      - 'Usage: tess system prof-del'
    - - system prof-edit -h
      - 'Usage: tess system prof-edit'
    - - system prof-list -h
      - 'Usage: tess system prof-list'
    - - system states -h
      - 'Usage: tess system states'
    - - system types -h
      - 'Usage: tess system types'
    - - system vol-attach -h
      - 'Usage: tess system vol-attach'
    - - system vol-detach -h
      - 'Usage: tess system vol-detach'
  system_command:
    - - system
      - manage systems and related resources
    - - system types
      - - ' *Type name *\| *Architecture *\| *Description'
        - ' *KVM *\|'
    - - system types --long
      - 'Type name    : KVM'
    - - system states
      - - ' *State name *\| *Description'
        - ' *AVAILABLE *\|'
    - - system states --long
      - 'State name  : AVAILABLE'
    - - system list
      - No results were found.
    # 'system add' subcommand
    - - system add
      - Missing option "--name".
    - - system add --name=cpc1
      - Missing option "--hostname".
    - - system add --name=cpc1 --type=cpc
      - Missing option "--hostname".
    - - system add --name=cpc1 --hostname=hosthmc1.example.com
      - Missing option "--type".
    - - system add --type=cpc --hostname=hosthmc1.example.com
      - Missing option "--name".
    - - system add --name= --type=cpc --hostname=hosthmc1.example.com
      - 'Invalid value for "--name": value may not be empty'
    - - system add --name=cpc1 --type= --hostname=hosthmc1.example.com
      - 'Invalid value for "--type": value may not be empty'
    - - system add --name=cpc1 --type=cpc --hostname=
      - 'Invalid value for "--hostname": value may not be empty'
    - - system add --name=cpc2 --type=cpc --hostname=hosthmc#1.example.com
      - 'Invalid value for "--hostname":'
    - - system add --name=cpc2 --type=cpc --hostname=hosthmc1.example.com --model=zzzz
      - "request failed. Server answered: No associated item found with value 'ZZZZ' for field 'Model'"
    - - system add --name=cpc2 --type=cpc --hostname=hosthmc1.example.com --model=
      - 'Invalid value for "--model": value may not be empty'
    - - system add --name=cpc2 --type=cpc --hostname=hosthmc1.example.com --model=zec12_h43 --state=
      - 'Invalid value for "--state": value may not be empty'
    - - system add --name=cpc2 --type=cpc --hostname=hosthmc1.example.com --model=zec12_h43 --state=available
      - Item added successfully.
    - - system add --name=cpc+2 --type=cpc --hostname=hosthmc1.example.com --model=zec12_h43 --state=AVAILABLE
      - 'Invalid value for "--name":'
    - - system add --name=cpc4 --type=cpc --hostname=hosthmc4.example.com --state=locked
      - Item added successfully.
    - - system add --name=cpc3 --type=cpc --hostname=hmcserver.example.com --model=zec12_h43 --project='GEO_1 labadmins' --desc='2 Books and 43 processors'
      - Item added successfully.
    - - system add --name=cpc3lp52 --hyp=cpc3 --type=LPAR --hostname=cpc3lp52.example.com --desc='SVT Developer 1' --owner=dev1@example.com --project='GEO_1 developers'
      - Item added successfully.
    - - system add --name=cpc3lp51 --hyp= --type=LPAR --hostname=cpc3lp51.example.com
      - 'Invalid value for "--hyp": value may not be empty'
    - - system add --name=cpc3lp56 --hyp=cpc3 --type=LPAR --hostname=cpc3lp56.example.com --desc= --owner=dev1@example.com --project='GEO_1 developers'
      - Item added successfully.
    - - system add --name=cpc3lp53 --hyp=cpc3 --type=LPAR --hostname=cpc3lp53.example.com --owner= --project='GEO_1 developers'
      - Item added successfully.
    - - system add --name=cpc3lp53 --hyp=cpc3 --type=LPAR --hostname=cpc3lp53.example.com --owner=xxxx --project='GEO_1 developers'
      - "request failed. Server answered: No associated item found with value 'xxxx' for field 'Owner'"
    - - system add --name=cpc3lp54 --hyp=cpc3 --type=LPAR --hostname=cpc3lp51.example.com --project=
      - "request failed. Server answered: No associated item found with value '' for field 'Project'"
    - - system add --name=cpc3lp54 --hyp=cpc3 --type=LPAR --hostname=cpc3lp51.example.com --project='GEO_1 developers'
      - Item added successfully.
    - - system add --name=guest55 --hyp=cpc3lp52 --type=KVM --hostname=guest55.example.com --desc='SVT Developer 1' --owner=dev1@example.com --project='GEO_1 developers'
      - Item added successfully.
    # 'system info' subcommand
    - - system info --system=cpc3lp5
      - - 'System'
        - '------No results were found'
    - - system info --system=cpc3lp54
      - - 'System'
        - '------'
        - 'Name            : cpc3lp54'
    # 'system list' subcommand
    - - system list
      - - ' *Name *\| *Hostname *\| *Type *\| *Model *\| *Current state *\| *Owner *\| *Project'
        - ' *guest55 *\|'
    - - system list --long
      - 'Name            : guest55'
    - - system list --name=cpc3lp
      - No results were found.
    - - system list --name=cpc3lp54
      - - ' *Name *\| *Hostname *\| *Type *\| *Model *\| *Current state *\| *Owner *\| *Project'
        - ' *cpc3lp54 *\|'
    - - system list --name=cpc3lp54 --long
      - 'Name            : cpc3lp54'
    - - system list --hyp=
      - 'Invalid value for "--hyp": value may not be empty'
    - - system list --hyp=cpc3lp
      - No results were found.
    - - system list --hyp=cpc3lp54
      - No results were found.
    - - system list --hyp=cpc3lp52
      - - ' *Name *\| *Hostname *\| *Type *\| *Model *\| *Current state *\| *Owner *\| *Project'
        - ' *guest55 *\|'
    - - system list --hyp=cpc3lp52 --long
      - 'Name            : guest55'
    - - system list --model=
      - 'Invalid value for "--model": value may not be empty'
    - - system list --model=zec12
      - No results were found.
    - - system list --model=zec12_h43
      - - ' *Name *\| *Hostname *\| *Type *\| *Model *\| *Current state *\| *Owner *\| *Project'
        - ' *guest55 *\|'
    - - system list --model=zec12_h43 --long
      - 'Name            : guest55'
    - - system list --type=
      - 'Invalid value for "--type": value may not be empty'
    - - system list --type=vm
      - No results were found.
    - - system list --type=kvm
      - - ' *Name *\| *Hostname *\| *Type *\| *Model *\| *Current state *\| *Owner *\| *Project'
        - ' *guest55 *\|'
    - - system list --type=kvm --long
      - 'Name            : guest55'
    - - system list --state=locked
      - - ' *Name *\| *Hostname *\| *Type *\| *Model *\| *Current state *\| *Owner *\| *Project'
        - ' *cpc4 *\|'
    - - system list --state=locked --long
      - 'Name            : cpc4'
    - - system list --state=LOCKED
      - - ' *Name *\| *Hostname *\| *Type *\| *Model *\| *Current state *\| *Owner *\| *Project'
        - ' *cpc4 *\|'
    - - system list --state=LOCKED --long
      - 'Name            : cpc4'
    - - system list --owner=
      - No results were found.
      # There is a system with an empty name, created before
    - - system list --owner=dev1@example.com
      - - ' *Name *\| *Hostname *\| *Type *\| *Model *\| *Current state *\| *Owner *\| *Project'
        - ' *\|'
    - - system list --owner=dev1@example.com --long
      - 'Name            :'
    - - system list --owner=dev11@example.com
      - No results were found.
    - - system list --project='GEO_1 labadmins'
      - - ' *Name *\| *Hostname *\| *Type *\| *Model *\| *Current state *\| *Owner *\| *Project'
        - ' *cpc3 *\|'
    - - system list --project='GEO_1 labadmins' --long
      - 'Name            : cpc3'
    - - system list --project='GEO_1 developers'
      - - ' *Name *\| *Hostname *\| *Type *\| *Model *\| *Current state *\| *Owner *\| *Project'
        - ' *guest55 *\|'
    - - system list --project='GEO_1 developers' --long
      - 'Name            : guest55'
    - - system list --project='GEO_1'
      - No results were found.
    # 'system edit' subcommand
    - - system edit
      - Missing option "--name".
    - - system edit --name=cpc3lp52
      - no update criteria provided.
    - - system edit --name=cpc3lp52 --desc='Developer 1'
      - Item successfully updated.
    - - system edit --name=cpc3lp50 --desc='Developer 1'
      - system not found.
    - - system edit --name= --desc='Developer 1'
      - 'Invalid value for "--name": value may not be empty'
    - - system edit --name=cpc3lp54 --newname=cpc3lp54
      - Item successfully updated.
    - - system edit --name=cpc3lp54 --newname=
      - 'Invalid value for "--newname": value may not be empty'
    - - system edit --name=cpc3lp54 --newname=cpc3lp44
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --hyp=cpc10
      - "request failed. Server answered: No associated item found with value 'cpc10' for field 'Hypervisor name'"
    - - system edit --name=cpc3lp56 --hyp=
      - 'Invalid value for "--hyp": value may not be empty'
    - - system edit --name=cpc3lp56 --hyp=cpc3
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --hostname=
      - 'Invalid value for "--hostname": value may not be empty'
    - - system edit --name=cpc3lp56 --hostname=cpc3lp56.example.com
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --model=
      - 'Invalid value for "--model": value may not be empty'
    - - system edit --name=cpc3lp56 --model=ZEC12
      - "request failed. Server answered: No associated item found with value 'ZEC12' for field 'Model'"
    - - system edit --name=cpc3lp56 --model=zgeneric
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --model=zec12_h43
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --type=
      - 'Invalid value for "--type": value may not be empty'
    - - system edit --name=cpc3lp56 --type=vm
      - "request failed. Server answered: No associated item found with value 'VM' for field 'Type'"
    - - system edit --name=cpc3lp56 --type=kvm
      - 'request failed. Server answered: Invalid guest/hypervisor combination'
    - - system edit --name=cpc3lp56 --type=zvm
      - 'request failed. Server answered: Invalid guest/hypervisor combination'
    - - system edit --name=cpc3lp56 --type=cpc
      - 'request failed. Server answered: Invalid guest/hypervisor combination'
    - - system edit --name=cpc3lp56 --type=lpar
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --state=
      - 'Invalid value for "--state": value may not be empty'
    - - system edit --name=cpc3lp56 --state=available
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --state=AVAILABLE
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --state=LOCK
      - "request failed. Server answered: No associated item found with value 'LOCK' for field 'Current state'"
    - - system edit --name=cpc3lp56 --owner=
      - "request failed. Server answered: No associated item found with value 'None' for field 'Owner'"
    - - system edit --name=cpc3lp56 --owner=dev10@example.com
      - "request failed. Server answered: No associated item found with value 'dev10@example.com' for field 'Owner'"
    - - system edit --name=cpc3lp56 --ouner=dev1@example.com
      - 'no such option: --ouner'
    - - system edit --name=cpc3lp56 --owner=dev1@example.com
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --project=
      - "request failed. Server answered: No associated item found with value 'None' for field 'Project'"
    - - system edit --name=cpc3lp56 --project='GEO_1'
      - "request failed. Server answered: No associated item found with value 'GEO_1' for field 'Project'"
    - - system edit --name=cpc3lp56 --project='GEO_1 developers'
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --desc=
      - Item successfully updated.
    - - system edit --name=cpc3lp56 --desc='lpar for development'
      - Item successfully updated.
    # 'system del' subcommand
    - - system del
      - Missing option "--name".
    - - system del --name=
      - 'Invalid value for "--name": value may not be empty'
    - - system del --name=xxx
      - system not found.
    - - system del --name=cpc3lp56
      - Item successfully deleted.
  system_zvm: # zvm guest system and profile add/update
    - - system add --name=vmguest01 --hyp=cpc3lp53 --type=ZVM --hostname=vmguest01.example.com --desc='SVT Developer 1' --owner=dev1@example.com --project='GEO_1 developers'
      - Item added successfully.
        # login specified, no zvm specified
    - - - system prof-add --name=login_int --system=vmguest01 --login=root:passwd
        # enter zvm password
        - myzvmpasswd
        # repeat
        - myzvmpasswd
      - 'Item added successfully.'
    - - system prof-list --name=login_int --system=vmguest01
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' login_int *\| vmguest01 *\|'
    - - system prof-list --name=login_int --system=vmguest01 --long
      - "Credentials *: .*'zvm-password': '\\*\\*\\*\\*'"
        # no login and no zvm specified
    - - - system prof-add --name=login_int2 --system=vmguest01
        # enter admin username
        - root
        # enter admin password
        - myadminpasswd
        # repeat
        - myadminpasswd
        # enter zvm password
        - myzvmpasswd
        # repeat
        - myzvmpasswd
      - 'Item added successfully.'
    - - system prof-list --name=login_int2 --system=vmguest01
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' login_int2 *\| vmguest01 *\|'
    - - system prof-list --name=login_int2 --system=vmguest01 --long
      - "Credentials *: .*'zvm-password': '\\*\\*\\*\\*'"
    - - system prof-add --name=default --system=vmguest01 --login=root:passwd --zvm-pass=vmpassword --zvm-by=vmadmin
      - 'Item added successfully.'
    - - system prof-list --name=default --system=vmguest01
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' default *\| vmguest01 *\|'
    - - system prof-list --name=default --system=vmguest01 --long
      - - "Credentials *: .*'zvm-password': '\\*\\*\\*\\*'"
        - "Credentials *: .*'zvm-logonby': 'vmadmin'"
    - - system prof-edit --name=default --system=vmguest01 --zvm-pass=vmpassword2 --zvm-by=
      - 'Item successfully updated'
    - - system prof-list --name=default --system=vmguest01 --long
      - "Credentials *: .*'zvm-password': '\\*\\*\\*\\*'"
    # set zvm-by again
    - - system prof-edit --name=default --system=vmguest01 --zvm-by=vmadmin2
      - 'Item successfully updated'
    - - system prof-list --name=default --system=vmguest01 --long
      - "Credentials *: .*'zvm-logonby': 'vmadmin2'"
    # unset zvm-by without setting password
    - - system prof-edit --name=default --system=vmguest01 --zvm-by=
      - 'Item successfully updated'
    - - system prof-list --name=default --system=vmguest01 --long
      - "Credentials *: .*'zvm-password': '\\*\\*\\*\\*'"
    # upate zvm password
    - - system prof-edit --name=default --system=vmguest01 --zvm-pass=vmpassword3
      - 'Item successfully updated'
    - - system prof-list --name=default --system=vmguest01 --long
      - "Credentials *: .*'zvm-password': '\\*\\*\\*\\*'"
    # ask to update zvm password
    - - - system prof-edit --name=default --system=vmguest01 --ask-zvm-pass
        - myzvmpass
        - myzvmpass
      - 'Item successfully updated'
    - - system prof-edit --name=default --system=vmguest01 --zvm-pass=vmpassword4 --zvm-by=vmadmin3
      - 'Item successfully updated'
    - - system prof-list --name=default --system=vmguest01 --long
      - - "Credentials *: .*'zvm-password': '\\*\\*\\*\\*'"
        - "Credentials *: .*'zvm-logonby': 'vmadmin3'"
  system_model:
    - - system model-list
      - - ' *Model name identifier *\| *Architecture *\| *Model title *\| *Model sub-classification *\| *Description'
        - ' *ZGENERIC *\|'
    - - system model-list --long
      - 'Model name identifier    : ZGENERIC'
    - - system model-add --name=Z196_M50 --title=Z196 --arch=s390x
      - 'permission denied. Server answered: You need administrator privileges to perform this operation'
    - - - conf key-gen
        - dev1@example.com
        - password
      - Key successfully created and added to client configuration.
    - - system model-add --name=Z196_M50 --title=Z196 --arch=s390x
      - Item added successfully.
    - - system model-edit --name=Z196_M40
      - model not found.
    - - system model-edit --name=Z196_M50
      - no update criteria provided.
    - - system model-edit --name=Z196_M50 --newname=Z196_M51
      - Item successfully updated.
    - - system model-del --name=Z196_M50
      - model not found.
    - - system model-del --name=Z196_M51
      - Item successfully deleted.
  system_iface:
    - - system iface-types
      - - ' *Type name *\| *Description'
        - ' *OSA *\|'
        - ' *ROCE *\|'
    - - system iface-types --long
      - 'Type name   : OSA'
    # 'system iface-add' subcommand
    - - system iface-add
      - Missing option "--system".
    - - system iface-add --system=cpc3lp52
      - Missing option "--name".
    - - system iface-add --name='osa iface'
      - Missing option "--system".
    - - system iface-add --system=cpc3lp52 --name='osa iface'
      - Missing option "--type".
    - - system iface-add --system=cpc3lp52 --name='osa iface' --type=OSA
      - Missing option "--devname".
    - - system iface-add --system=cpc3lp52 --name='osa iface' --type=OSA --devname=en0 --mac=02:57:52:00:70:00
      - '--ccwgroup must be specified'
    - - system iface-add --system= --name='osa iface' --type=OSA --devname=en0 --mac=02:57:52:00:70:00 --ccwgroup=f500,f501,f502
      - 'Invalid value for "--system": value may not be empty'
    - - system iface-add --system=xxxx --name='osa iface' --type=OSA --devname=en0 --mac=02:57:52:00:70:00 --ccwgroup=f500,f501,f502
      - "request failed. Server answered: No associated item found with value 'xxxx' for field 'System'"
    - - system iface-add --system=cpc3lp52 --name= --type=osa --devname=en0 --mac=02:57:52:00:70:00 --ccwgroup=f500,f501,f502
      - 'Invalid value for "--name": value may not be empty'
    - - system iface-add --system=cpc3lp52 --name=dummy --type=osa --devname=en0 --mac=02:57:52:00:70:00 --ccwgroup=f500,f501,f502
      - 'Error: request failed. Server answered: When layer2 is off no MAC address should be defined'
    - - system iface-add --system=cpc3lp52 --name='osa iface' --type= --devname=en0 --mac=02:57:52:00:70:00 --ccwgroup=f500,f501,f502
      - 'Invalid value for "--type": value may not be empty'
    - - system iface-add --system=cpc3lp52 --name='osa iface' --type= --devname=en0 --mac=02:57:52:00:70:00
      - 'Invalid value for "--type": value may not be empty'
    - - system iface-add --system=cpc3lp52 --name='osa iface' --type=os --devname=en0 --mac=02:57:52:00:70:00
      - 'invalid interface type \(see iface-types\)'
    - - system iface-add --system=cpc3lp52 --name='osa iface' --type=osa --devname= --mac=02:57:52:00:70:00 --ccwgroup=f500,f501,f502
      - 'Invalid value for "--devname": value may not be empty'
    - - system iface-add --system=cpc3lp52 --name='osa iface' --type=osa --devname='wrong name' --mac=02:57:52:00:70:00 --ccwgroup=f500,f501,f502
      - "Invalid value for \"--devname\": 'wrong name' is not a valid interface name"
    - - system iface-add --system=cpc3lp52 --name='osa iface2' --type=osa --devname=en0 --mac=  --ccwgroup=f500,f501,f502
      - 'Invalid value for "--mac": value may not be empty'
    - - system iface-add --system=cpc3lp52 --name='osa iface2' --type=osa --devname=en0 --mac=0257:52:00:70:00 --ccwgroup=f500,f501,f502
      - 'Invalid value for "--mac": 0257:52:00:70:00 is not a valid mac address'
    - - system iface-add --system=cpc3lp52 --name='osa iface2' --type=osa --devname=en0 --mac=02:57:52:00:70:00 --ccwgroup=
      - 'Invalid value for "--ccwgroup":  is not a valid qeth ccwgroup'
    - - system iface-add --system=cpc3lp52 --name='osa iface2' --type=osa --devname=en0 --mac=02:57:52:00:70:00 --ccwgroup=f500,f501
      - 'Invalid value for "--ccwgroup": f500,f501 is not a valid qeth ccwgroup'
    - - system iface-add --system=cpc3lp52 --name='osa iface2' --type=osa --devname=en0 --mac=02:57:52:00:70:00 --ccwgroup=500,501,502
      - 'Invalid value for "--ccwgroup": 500 is not a valid devno'
    - - system iface-add --system=cpc3lp52 --name='osa iface2' --type=osa --devname=en0 --mac=02:57:52:00:70:00 --ccwgroup=f500,f501,f502 --layer2=true
      - Item added successfully.
    - - system iface-add --system=cpc3lp52 --name='default osa' --type=OSA --devname=enccw0.0.f500 --mac=02:57:52:00:76:00 --layer2=true --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.161.222
      - Item added successfully.
    - - system iface-add --system=cpc3lp52 --name='default osa1' --type=OSA --devname=enccw0.0.f500 --layer2=0 --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet= --ip=192.168.161.222
      - 'Invalid value for "--subnet": value may not be empty'
    - - system iface-add --system=cpc3lp52 --name='default osa1' --type=OSA --devname=enccw0.0.f500 --layer2=0 --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.161.22222
      - 'Invalid value for "--ip": 192.168.161.22222 is not a valid ip address'
    - - system iface-add --system=cpc3lp52 --name='default osa1' --type=OSA --devname=enccw0.0.f500 --layer2=0 --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.161.222
      - Item added successfully.
    - - system iface-add --system=cpc3lp52 --name='default osa2' --type=OSA --devname=enccw0.0.f500 --mac=02:57:52:00:76:00 --layer2=true --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=
      - 'Invalid value for "--ip": value may not be empty'
    - - system iface-add --system=cpc3lp52 --name='default osa2' --type=OSA --devname=enccw0.0.f500 --mac=02:57:52:00:76:00 --layer2=true --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.161.222 --hostiface=enccw0.0.f500
      - invalid attribute for this iface type
    - - system iface-add --system=cpc3lp52 --name='default osa2' --type=OSA --devname=enccw0.0.f500 --mac=02:57:52:00:76:00 --layer2=true --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.161.222 --libvirt='files/system-command_test/kvm-guest.xml'
      - invalid attribute for this iface type
    - - system iface-add --system=cpc3lp52 --name='default osa2' --type=OSA --devname=enccw0.0.f500 --mac=02:57:52:00:76:00 --layer2=true --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.161.222 --portname=OSAE1
      - Item added successfully.
    - - system iface-add --system=cpc3lp52 --name='default osa3' --type=OSA --devname=enccw0.0.f500 --mac=02:57:52:00:76:00 --layer2=true --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.161.222 --portno=65
      - 'Invalid value for "--portno": portno must be one of: 0, 1'
    - - system iface-add --system=cpc3lp52 --name='default osa3' --type=OSA --devname=enccw0.0.f500 --mac=02:57:52:00:76:00 --layer2=true --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.161.222 --portno=1
      - Item added successfully.
    - - system iface-add --system=cpc3lp52 --name='default osa4' --type=OSA --devname=enccw0.0.f500 --layer2=false --ccwgroup=f500 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.161.222 --portno=1
      - 'Invalid value for "--ccwgroup": f500 is not a valid qeth ccwgroup'
    - - system iface-add --system=cpc3lp52 --name='default osa4' --type=OSA --devname=enccw0.0.f500 --layer2=false --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.161.222 --portno=
      - 'Invalid value for "--portno": value may not be empty'
    - - system iface-add --system=cpc3lp52 --name='default osa4' --type=OSA --devname=enccw0.0.f500 --layer2=false --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.161.222 --portno=1
      - Item added successfully.
      # iface-add with ip and without subnet
    - - system iface-add --system=guest55 --name='default macvtap' --type=macvtap --devname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --ip=192.168.160.55 --hostiface=enccw0.0.f500
      - '--subnet and --ip must be specified together'
      # iface-add: invalid attribute '--layer2' for this iface type
    - - system iface-add --system=guest55 --name='default macvtap' --type=macvtap --devname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --layer2=true --hostiface=enccw0.0.f500
      - invalid attribute for this iface type
      # iface-add: macvtap without libvirt or hostiface
    - - system iface-add --system=guest55 --name='default macvtap' --type=macvtap --devname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.160.55
      - '--hostiface and --libvirt are mutually exclusive \(specify one but not both\)'
      # iface-add: macvtap with both libvirt and hostiface
    - - system iface-add --system=guest55 --name='default macvtap' --type=macvtap --devname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.160.55 --hostiface=enccw0.0.f500 --libvirt='files/system-command_test/kvm-guest.xml'
      - '--hostiface and --libvirt are mutually exclusive \(specify one but not both\)'
    - - system iface-add --system=guest55 --name='default macvtap' --type=macvtap --devname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.160.55 --hostiface=enccw0.0.f500
      - Item added successfully.
    - - system iface-add --system=guest55 --name='default macvtap1' --type=macvtap --devname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.160.55 --hostiface=
      - 'Invalid value for "--hostiface": value may not be empty'
    - - system iface-add --system=guest55 --name='default macvtap1' --type=macvtap --devname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.160.55 --hostiface='wrong name'
      - "Invalid value for \"--hostiface\": 'wrong name' is not a valid interface name"
    - - system iface-add --system=guest55 --name='default macvtap2' --type=macvtap --devname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.160.55 --libvirt=
      - 'Invalid value for "--libvirt": value may not be empty'
    - - system iface-add --system=guest55 --name='default macvtap3' --type=macvtap --devname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.160.55 --libvirt='kvm.xml'
      - "No such file or directory: 'kvm.xml'"
    - - system iface-add --system=guest55 --name='default macvtap3' --type=macvtap --devname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.160.55 --libvirt='files/system-command_test/kvm-guest-empty.xml'
      - 'Invalid value for "--libvirt": libvirt definition cannot be empty'
    - - system iface-add --system=guest55 --name='default macvtap4' --type=macvtap --devname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='/GEO_1-NE-1822' --ip=192.168.160.55 --libvirt='files/system-command_test/kvm-guest.xml'
      - 'Invalid value for "--subnet": /GEO_1-NE-1822 is not a valid subnet'
    - - system iface-add --system=guest55 --name='default macvtap4' --type=macvtap --devname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.160.55 --libvirt='files/system-command_test/kvm-guest.xml'
      - Item added successfully.
    # ROCE card type
    - - system iface-add --system=cpc3lp52 --name=roce-1 --type=ROCE --devname=en518
      - 'Error: for ROCE cards --fid must be specified'
    - - system iface-add --system=cpc3lp52 --name=roce-1 --type=ROCE --devname=en518 --fid=00111
      - 'Error: for ROCE cards --mac must be specified'
    - - system iface-add --system=cpc3lp52 --name=roce-1 --type=ROCE --devname=en518 --fid=@00111 --mac=00:11:22:33:44:55
      - 'Invalid value for "--fid": @00111 is not a valid function ID'
    - - system iface-add --system=cpc3lp52 --name=roce-1 --type=ROCE --devname=en518 --fid=00111 --mac=00:11:22:33:44:55
      - Item added successfully.
   # 'system iface-list' subcommand
    - - system iface-list
      - at least one of --system or --name must be specified
    - - system iface-list --system=cpc3lp53
      - No results were found.
    - - system iface-list --system=xxxx
      - No results were found.
    - - system iface-list --system=
      - 'Invalid value for "--system": value may not be empty'
    - - system iface-list --name='osa iface1'
      - No results were found.
    - - system iface-list --name=xxx
      - No results were found.
    - - system iface-list --name=
      - 'Invalid value for "--name": value may not be empty'
    - - system iface-list --system=guest55
      - - ' *Interface name *\| *Network device name *\| *System *\| *Interface type *\| *IP address *\| *MAC address *\| *Attributes *\| *Associated system profiles'
        - ' *default macvtap *\|'
    - - system iface-list --system=guest55 --long
      - 'Interface name             : default macvtap'
    - - system iface-list --system=cpc3lp52
      - - ' *Interface name *\| *Network device name *\| *System *\| *Interface type *\| *IP address *\| *MAC address *\| *Attributes *\| *Associated system profiles'
        - ' *default osa *\|'
    - - system iface-list --system=cpc3lp52 --long
      - 'Interface name             : default osa'
    - - system iface-list --system=guest55 --type=macvtap
      - - ' *Interface name *\| *Network device name *\| *System *\| *Interface type *\| *IP address *\| *MAC address *\| *Attributes *\| *Associated system profiles'
        - ' *default macvtap *\|'
    - - system iface-list --system=guest55 --type=macvtap --long
      - 'Interface name             : default macvtap'
    - - system iface-list --system=cpc3lp52 --type=lpar
      - No results were found.
    - - system iface-list --system=cpc3lp52 --type=
      - 'Invalid value for "--type": value may not be empty'
    - - system iface-list --system=cpc3lp52 --devname=en0
      - - ' *Interface name *\| *Network device name *\| *System *\| *Interface type *\| *IP address *\| *MAC address *\| *Attributes *\| *Associated system profiles'
        - ' *osa iface2 *\|'
    - - system iface-list --system=cpc3lp52 --devname=en0 --long
      - 'Interface name             : osa iface2'
    - - system iface-list --system=cpc3lp52 --devname=en10
      - No results were found.
    - - system iface-list --system=cpc3lp52 --devname=
      - 'Invalid value for "--devname": value may not be empty'
    - - system iface-list --system=cpc3lp52 --mac=02:57:52:00:70:00
      - - ' *Interface name *\| *Network device name *\| *System *\| *Interface type *\| *IP address *\| *MAC address *\| *Attributes *\| *Associated system profiles'
        - ' *osa iface2 *\|'
    - - system iface-list --system=cpc3lp52 --mac=02:57:52:00:70:00 --long
      - 'Interface name             : osa iface2'
    - - system iface-list --system=cpc3lp52 --mac=02:57:52:00:70:05
      - No results were found.
    - - system iface-list --system=cpc3lp52 --mac=
      - 'Invalid value for "--mac": value may not be empty'
    - - system iface-list --system=cpc3lp52 --mac=02:57:52:00:7000
      - 'Invalid value for "--mac": 02:57:52:00:7000 is not a valid mac address'
    - - system iface-list --system=cpc3lp52 --ip=192.168.161.222
      - - ' *Interface name *\| *Network device name *\| *System *\| *Interface type *\| *IP address *\| *MAC address *\| *Attributes *\| *Associated system profiles'
        - ' *default osa *\|'
    - - system iface-list --system=cpc3lp52 --ip=192.168.161.222 --long
      - 'Interface name             : default osa'
    - - system iface-list --system=cpc3lp52 --ip=192.168.161.300
      - 'Invalid value for "--ip": 192.168.161.300 is not a valid ip address'
    - - system iface-list --system=cpc3lp52 --ip=9152.161.222
      - 'Invalid value for "--ip": 9152.161.222 is not a valid ip address'
    - - system iface-list --system=cpc3lp52 --ip=
      - 'Invalid value for "--ip": value may not be empty'
    - - system iface-list --system=cpc3lp52 --name=roce-1
      - " *{'fid': '111'} *\\|"
    # 'system iface-edit' subcommand
    - - system iface-edit
      - Missing option "--system".
    - - system iface-edit --system=cpc3lp52
      - Missing option "--name".
    - - system iface-edit --name='default osa2'
      - Missing option "--system".
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --newname=
      - 'Invalid value for "--newname": value may not be empty'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --newname='default osa22'
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa22' --newname='default osa'
      - 'request failed. Server answered: An item with the provided value'
    - - system iface-edit --system= --name='default osa22' --newname='default osa2'
      - 'Invalid value for "--system": value may not be empty'
    - - system iface-edit --system=cpc3lp52 --name= --newname='default osa2'
      - 'Invalid value for "--name": value may not be empty'
    - - system iface-edit --system=cpc3lp52 --name='osa iface2' --newname='default osa2'
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa23' --newname='default osa2'
      - network interface not found.
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --devname=
      - 'Invalid value for "--devname": value may not be empty'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --devname='wrong*name'
      - "Invalid value for \"--devname\": 'wrong\\*name' is not a valid interface name"
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --devname=en0
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --mac=
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --mac=0257:52:00:76:00
      - 'Invalid value for "--mac": 0257:52:00:76:00 is not a valid mac address'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --layer2=0 --mac=02:57:52:00:76:00
      - 'request failed. Server answered: When layer2 is off no MAC address should be defined'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --subnet=
      - 'Invalid value for "--subnet": value may not be empty'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --ip=192.168.161.222
      - '--subnet and --ip must be specified together'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --subnet='GEO_1' --ip=192.168.161.222
      - "request failed. Server answered: No associated item found with value 'GEO_1/192.168.161.222' for field 'IP address'"
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --subnet='/GEO_1-NE-1822' --ip=192.168.161.222
      - 'Invalid value for "--subnet": /GEO_1-NE-1822 is not a valid subnet'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --subnet='GEO_1-NE-1822' --ip=192.168.161.222
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --ip=
      - 'Item successfully updated.'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --subnet='GEO_1-NE-1822' --ip=9152.161.222
      - 'Invalid value for "--ip": 9152.161.222 is not a valid ip address'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --subnet='GEO_1-NE-1822' --ip=
      - 'Invalid value for "--ip":  is not a valid ip address'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --layer2=
      - 'Invalid value for "--layer2":  is not a valid boolean'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --layer2=false
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --ccwgroup=
      - 'Invalid value for "--ccwgroup":  is not a valid qeth ccwgroup'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --ccwgroup=500,f501,f502
      - 'Invalid value for "--ccwgroup": 500 is not a valid devno'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --ccwgroup=f500
      - 'Invalid value for "--ccwgroup": f500 is not a valid qeth ccwgroup'
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --ccwgroup=f500,f501,f502
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --desc=
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --desc='gateway interface'
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --hostiface=enccw0.0.f500
      - invalid attribute for this iface type
    - - system iface-edit --system=cpc3lp52 --name='default osa2' --libvirt='files/system-command_test/kvm-guest.xml'
      - invalid attribute for this iface type
    - - system iface-edit --system=cpc3lp52 --name='default osa' --devname=enccw0.0.f500 --mac=02:57:52:00:76:00 --layer2=true --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --subnet='' --ip=''
      - 'Invalid value for "--subnet": value may not be empty'
    - - system iface-edit --system=cpc3lp52 --name='default osa' --devname=enccw0.0.f500 --mac=02:57:52:00:76:00 --layer2=true --ccwgroup=f500,0.0.f501,0.0.f502 --desc='gateway interface' --ip=''
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa' --ccwgroup=0xf500,0.0.f501,f502
      - Item successfully updated.
    - - system iface-edit --system=cpc3lp52 --name='default osa' --ccwgroup='f501 f502 f503'
      - 'Invalid value for "--ccwgroup": f501 f502 f503 is not a valid qeth ccwgroup'
    - - system iface-edit --system=cpc3lp52 --name='default osa' --ccwgroup=''
      - 'Invalid value for "--ccwgroup":  is not a valid qeth ccwgroup'
    - - system iface-edit --system=guest55 --name='macvtap'
      - network interface not found.
      # with ip and without subnet
    - - system iface-edit --system=guest55 --name='default macvtap' --devname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --ip=192.168.160.55 --hostiface=enccw0.0.f500
      - '--subnet and --ip must be specified together'
      # with subnet and without ip
    - - system iface-edit --system=guest55 --name='default macvtap' --devname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='GEO_1-NE-1822' --hostiface=enccw0.0.f500
      - '--subnet and --ip must be specified together'
      # without ip and without subnet
    - - system iface-edit --system=guest55 --name='default macvtap' --devname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --hostiface=enccw0.0.f500
      - Item successfully updated.
      # with ip and with subnet
    - - system iface-edit --system=guest55 --name='default macvtap' --devname=en0 --mac=02:03:52:01:ff:01 --desc='gateway interface' --subnet='GEO_1-NE-1822' --ip=192.168.160.55 --hostiface=enccw0.0.f500
      - Item successfully updated.
      # invalid attribute for this iface type
    - - system iface-edit --system=guest55 --name='default macvtap' --layer2=true
      - invalid attribute for this iface type
    - - system iface-edit --system=guest55 --name='default macvtap' --ccwgroup=f500,f501,f502
      - invalid attribute for this iface type
    - - system iface-edit --system=guest55 --name='default macvtap' --portname=OSAE1
      - invalid attribute for this iface type
    - - system iface-edit --system=guest55 --name='default macvtap' --portno=0
      - invalid attribute for this iface type
      # no update criteria
    - - system iface-edit --system=guest55 --name='default macvtap'
      - no update criteria provided.
    - - system iface-edit --system=guest55 --name='default macvtap' --hostiface=''
      - 'Invalid value for "--hostiface": value may not be empty'
      # macvtap with libvirt and hostiface
    - - system iface-edit --system=guest55 --name='default macvtap' --hostiface=enccw0.0.f500 --libvirt='files/system-command_test/kvm-guest.xml'
      - '--hostiface and --libvirt are mutually exclusive \(specify one but not both\)'
    - - system iface-edit --system=guest55 --name='default macvtap' --libvirt=
      - 'Invalid value for "--libvirt": value may not be empty'
    - - system iface-edit --system=guest55 --name='default macvtap' --libvirt='kvm.xml'
      - "No such file or directory: 'kvm.xml'"
    - - system iface-edit --system=guest55 --name='default macvtap' --libvirt='files/system-command_test/kvm-guest.xml'
      - Item successfully updated.
      # make sure hostiface was cleared in attributes
    - - system iface-list --system=guest55 --name='default macvtap' --long
      - - "Attributes *: {'libvirt': .*"
        - 'Attributes *: ((?!hostiface).)*\n'
    - - system iface-edit --system=guest55 --name='default macvtap' --hostiface=enccw0.0.f500
      - Item successfully updated.
      # make sure libvirt was cleared in attributes
    - - system iface-list --system=guest55 --name='default macvtap' --long
      - - "Attributes *: {'hostiface': 'enccw0\\.0\\.f500'}"
        - 'Attributes *: ((?!libvirt).)*\n'
      # change roce card's fid
    - - system iface-edit --system=cpc3lp52 --name=roce-1 --fid=0222
      - Item successfully updated.
    - - system iface-list --system=cpc3lp52 --name=roce-1
      - " *{'fid': '222'} *\\|"
    # 'system iface-del' subcommand
    - - system iface-del
      - Missing option "--system".
    - - system iface-del --system=guest55
      - Missing option "--name".
    - - system iface-del --name='default macvtap'
      - Missing option "--system".
    - - system iface-del --system=guest55 --name='macvtap'
      - network interface not found.
    - - system iface-del --system=guest60 --name='default macvtap'
      - network interface not found.
    - - system iface-del --system=guest55 --name='default macvtap'
      - Item successfully deleted.
  system_prof:
    # 'system prof-add' subcommand
    - - system prof-add
      - Missing option "--system".
    - - system prof-add --system=cpc3lp52
      - Missing option "--name".
    - - system prof-add --name='DASD'
      - Missing option "--system".
    - - system prof-add --system=cpc3lp52 --name='DASD' --login=
      - 'Invalid value for "--login": value may not be empty'
    - - system prof-add --system= --name='DASD'  --login='root:mypasswd'
      - 'Invalid value for "--system": value may not be empty'
    - - system prof-add --system=cpc3lp52 --name='DASD'  --login='root:mypasswd'
      - Item added successfully.
    - - system prof-add --system= --name='DASD1' --login='root:mypasswd'
      - 'Invalid value for "--system": value may not be empty'
    - - system prof-add --system=cpc3lp52 --name= --login='root:mypasswd'
      - 'Invalid value for "--name": value may not be empty'
    - - system prof-add --system=cpc3lp60 --name='DASD2' --login='root:mypasswd'
      - "Error: system specified not found"
    - - system prof-add --system=cpc3lp52 --name='DASD3' --cpu= --login='root:mypasswd'
      - 'Invalid value for "--cpu":  is not a valid integer'
    - - system prof-add --system=cpc3lp52 --name='DASD3' --cpu=-1 --login='root:mypasswd'
      - 'Invalid value for "--cpu": -1 is smaller than the minimum valid value 0.'
    - - system prof-add --system=cpc3lp52 --name='DASD3' --cpu=0 --memory=-1gib --login='root:mypasswd'
      - 'Invalid value for "--memory": -1gib is not a valid size'
    - - system prof-add --system=cpc3lp52 --name='DASD3' --cpu=0 --memory=0gib --login='root:mypasswd'
      - Item added successfully.
    - - system prof-add --system=cpc3lp52 --name='DASD18' --memory=0 --login='root:mypasswd'
      - Item added successfully.
        # exercise login with invalid username
    - - system prof-add --system=cpc3lp52 --name='DASD4' --cpu=4 --login='root#:mypasswd'
      - "Invalid value for \"--login\": 'root#' is not a valid username, it may only contain letters, numbers, and the characters"
    - - system prof-add --system=cpc3lp52 --name='DASD4' --cpu=4 --login='root:mypasswd'
      - Item added successfully.
        # exercise entering login interactively
    - - - system prof-add --system=cpc3lp52 --name='login_int' --cpu=4
        # username - try with invalid character
        - root#
        # correct username
        - root
        # password
        - mypasswd
        # repeat
        - mypasswd
      - Item added successfully.
    - - system prof-list --system=cpc3lp52 --name='login_int'
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' login_int *\| cpc3lp52 *\|'
    - - system prof-list --system=cpc3lp52 --name='login_int' --long
      - - "Credentials *: .*'admin-user': 'root'"
        - "Credentials *: .*'admin-password': '\\*\\*\\*\\*'"
    - - system prof-add --system=cpc3lp52 --name='DASD5' --cpu=4 --memory= --login='root:mypasswd'
      - 'Error: Invalid value for "--memory": value may not be empty'
    - - system prof-add --system=cpc3lp52 --name='DASD7' --default --login='root:mypasswd'
      - Item added successfully.
      # edit default profile
    - - system prof-edit --system=cpc3lp52 --name=DASD7 --memory
      - '--memory option requires an argument'
    - - system prof-edit --system=cpc3lp52 --name=DASD7 --memory=2gb
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD7 --newname=
      - 'Invalid value for "--newname": value may not be empty'
    - - system prof-edit --system=cpc3lp52 --name=DASD7 --newname=DASD17
      - Item successfully updated.
        # update login interactively
    - - - system prof-edit --system=cpc3lp52 --name=login_int --ask-login
        # username - try with invalid character
        - root#
        # correct username
        - root
        # password
        - mypasswd
        # repeat
        - mypasswd
      - Item successfully updated.
    - - system prof-list --system=cpc3lp52 --name='login_int'
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' login_int *\| cpc3lp52 *\|'
    - - system prof-list --system=cpc3lp52 --name='login_int' --long
      - - "Credentials *: .*'admin-user': 'root'"
        - "Credentials *: .*'admin-password': '\\*\\*\\*\\*'"
      # The next default profile changes the status of the existing default profile to 'not default'
    - - system prof-add --system=cpc3lp52 --name='DASD10' --default --cpu=4 --memory=1024mib --login='root:mypasswd'
      - Item added successfully.
    - - system prof-add --system=cpc3lp52 --name='DASD11' --default --memory=2gib --login='root:mypasswd'
      - Item added successfully.
    - - system prof-list --system=cpc3lp52
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' *DASD *\|'
    - - system prof-list --system=cpc3lp52 --long
      - 'Profile name                : DASD'
    - - system prof-list --system=cpc3lp52 --memory=12
      - No results were found.
    - - system prof-list --system=cpc3lp52 --memory=AAAmb
      - 'Error: Invalid value for "--memory": AAAmb is not a valid size'
    - - system prof-add --system=cpc3lp52 --name='DASD8' --hyp= --login='root:mypasswd'
      - 'Invalid value for "--hyp": value may not be empty'
    - - system prof-add --system=cpc3lp52 --name='DASD9' --hyp='default cpc3' --login='root:mypasswd'
      - "request failed. Server answered: No associated item found with value 'default cpc3' for field 'Required hypervisor profile'"
    - - system prof-add --system=cpc3 --name='default cpc3' --cpu=43 --memory=1136g --login='DEVEL1:somepwd'
      - 'Error: Invalid value for "--memory": 1136g is not a valid size'
    - - system prof-add --system=cpc3 --name='default cpc3' --cpu=43 --memory=1136gib --login='DEVEL1:somepwd'
      - Item added successfully.
    - - system prof-add --system=cpc3 --name='alternate' --cpu=43 --memory=1136gib --login='DEVEL1:somepwd' --liveimg=ftp://user:pass@ftpserver.example._com/dir/image.ins
      - Item added successfully.
    - - system prof-list --system=cpc3 --name='alternate' --long
      - "Parameters *: {'liveimg-insfile-url': 'ftp://user:pass@ftpserver.example._com/dir/image.ins'} *\n"
    - - system prof-edit --system=cpc3 --name='alternate' --liveimg=
      - Item successfully updated.
    - - system prof-list --system=cpc3 --name='alternate' --long
      - "Parameters *: *\n"
    - - system prof-edit --system=cpc3 --name='alternate' --liveimg=ftp://user:pass@ftpserver.example._com/dir/image.ins
      - Item successfully updated.
    - - system prof-list --system=cpc3 --name='alternate' --long
      - "Parameters *: {'liveimg-insfile-url': 'ftp://user:pass@ftpserver.example._com/dir/image.ins'} *\n"
    - - system prof-add --system=cpc3lp52 --name='DASD root1' --cpu=4 --memory=2048mib --login='root:mypasswd' --hyp='cpc3/default cpc3'
      - 'Invalid value for "--hyp"'
    - - system prof-add --system=cpc3lp52 --name='DASD root1' --cpu=4 --memory=2048mib --login='root-mypasswd' --hyp='default cpc3'
      - 'Error: Invalid value for "--login": input should be in the format username:password'
    - - system prof-add --system=cpc3lp52 --name='DASD root1' --cpu=4 --memory=0.5mib --login='root:mypasswd' --hyp='default cpc3'
      - 'Invalid value for "--memory": 0.5mib is not a valid size'
    - - system prof-add --system=cpc3lp52 --name='DASD root1' --cpu=4 --memory=2048mib --login='root:mypasswd' --hyp='default cpc3' --zvm-pass=vmpassword
      - zVM credentials should be provided for zVM guests only
    - - system prof-add --system=cpc3lp52 --name='DASD root1' --cpu=4 --memory=2048mib --login='root:mypasswd' --hyp='default cpc3'
      - Item added successfully.
    # 'system prof-list' subcommand
    - - system prof-list
      - 'At least one of --system or --os must be specified'
    - - system prof-list --system=cpc3lp66
      - No results were found.
    - - system prof-list --system=
      - 'Invalid value for "--system": value may not be empty'
    - - system prof-list --system=cpc3lp52
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' *DASD root1 *\|'
    - - system prof-list --system=cpc3lp52 --long
      - 'Profile name                : DASD root1'
    - - system prof-list --name=
      - 'Invalid value for "--name": value may not be empty'
    - - system prof-list --name='DASD root1'
      - 'At least one of --system or --os must be specified'
    - - system prof-list --system=cpc3lp52 --name='DASD4'
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' *DASD4 *\|'
    - - system prof-list --system=cpc3lp52 --name='DASD4' --long
      - 'Profile name                : DASD4'
    - - system prof-list --system=cpc3lp52 --name='DASD root1' --cpu
      - ' --cpu option requires an argument'
    - - system prof-list --system=cpc3lp52 --name='DASD root1' --cpu=4
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' *DASD root1 *\|'
    - - system prof-list --system=cpc3lp52 --name='DASD root1' --cpu=4 --long
      - 'Profile name                : DASD root1'
    - - system prof-list --system=cpc3lp52 --cpu=4
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' *DASD root1 *\|'
    - - system prof-list --system=cpc3lp52 --cpu=4 --long
      - 'Profile name                : DASD root1'
    - - system prof-list --system=cpc3lp52 --cpu=3
      - No results were found.
    - - system prof-list --system=cpc3lp52 --memory
      - '--memory option requires an argument'
    - - system prof-list --system=cpc3lp52 --memory=2048mb
      - No results were found.
    - - system prof-list --system=cpc3lp52 --memory=2048mib
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' *DASD root1 *\|'
    - - system prof-list --system=cpc3lp52 --memory=2048mib --long
      - 'Profile name                : DASD root1'
    - - system prof-list --system=cpc3lp52 --memory=2gb
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' *DASD17 *\|'
    - - system prof-list --system=cpc3lp52 --memory=2gb --long
      - 'Profile name                : DASD17'
    - - system prof-list --system=cpc3lp52 --memory=2gib
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' *DASD root1 *\|'
    - - system prof-list --system=cpc3lp52 --memory=2gib --long
      - 'Profile name                : DASD root1'
    - - system prof-list --system=cpc3lp52 --memory=1024mb
      - No results were found.
    - - system prof-list --system=cpc3lp52 --memory=0
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' *DASD *\|'
    - - system prof-list --system=cpc3lp52 --memory=1024mib
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' *DASD10 *\|'
    - - system prof-list --system=cpc3lp52 --memory=1024mib --long
      - 'Profile name                : DASD10'
    - - system prof-list --system=cpc3lp52 --memory=1gb
      - No results were found.
    - - system prof-list --system=cpc3lp52 --memory=1gib
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' *DASD10 *\|'
    - - system prof-list --system=cpc3lp52 --memory=1gib --long
      - 'Profile name                : DASD10'
      # expecting DASD11 as it was the last to be set as default
    - - system prof-list --system=cpc3lp52 --default
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' *DASD11 *\|'
    - - system prof-list --system=cpc3lp52 --default --long
      - 'Profile name                : DASD11'
    - - system prof-list --system=cpc3lp52 --hyp
      - '--hyp option requires an argument'
    - - system prof-list --system=cpc3lp52 --hyp='default cpc3'
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' *DASD root1 *\|'
    - - system prof-list --system=cpc3lp52 --hyp='default cpc3' --long
      - 'Profile name                : DASD root1'
    - - system prof-list --system=cpc3lp52 --hyp=cpc3
      - No results were found.
      # prof-list in prof.py: 178-182 stmts
    - - system iface-attach --system=cpc3lp52 --profile='DASD root1' --iface='default osa'
      - Network interface attached successfully.
    - - system prof-list --system=cpc3lp52
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' *DASD root1 *\|'
    - - system prof-list --system=cpc3lp52 --long
      - 'Profile name                : DASD root1'
    - - system iface-edit --system=cpc3lp52 --name='default osa' --subnet='GEO_1-NE-1822' --ip=192.168.161.222
      - Item successfully updated.
    - - system prof-list --system=cpc3lp52
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' *DASD root1 *\|'
    - - system prof-list --system=cpc3lp52 --long
      - 'Profile name                : DASD root1'
    - - system prof-list --system=cpc3
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' *default cpc3 *\|'
    - - system prof-list --system=cpc3 --long
      - 'Profile name                : default cpc3'
    # 'system prof-edit' subcommand
    - - system prof-edit
      - Missing option "--system".
    - - system prof-edit --system=cpc3lp52
      - Missing option "--name".
    - - system prof-edit --name=DASD7
      - Missing option "--system".
    - - system prof-edit --system=cpc3lp52 --name=DASD7
      - system profile not found.
    - - system prof-edit --system=cpc3lp52 --name=DASD
      - no update criteria provided.
    - - system prof-edit --system=cpc3lp52 --name= --memory=2gib
      - 'Invalid value for "--name": value may not be empty'
    - - system prof-edit --system=cpc3lp52 --name=DASD --memory
      - '--memory option requires an argument'
    - - system prof-edit --system= --name=DASD --memory=2gib
      - 'Invalid value for "--system": value may not be empty'
    - - system prof-edit --system=cpc3lp52 --name=DASD --memory=-1gib
      - 'Invalid value for "--memory": -1gib is not a valid size'
    - - system prof-edit --system=cpc3lp52 --name=DASD --memory=0gib
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD --memory=0
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD --memory=2gib
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD10 --memory=2gib
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD11 --memory=2gib
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --memory=2gib
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --memory=1024mib
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp22 --name=DASD4 --memory=2gib
      - system profile not found.
    - - system prof-edit --system=cpc3lp52 --name=DISK4 --memory=2gib
      - system profile not found.
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --newname=DASD
      - 'request failed. Server answered: An item with the provided value'
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --newname=DASD14
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD14 --cpu
      - '--cpu option requires an argument'
    - - system prof-edit --system=cpc3lp52 --name=DASD14 --cpu=-1
      - 'Invalid value for "--cpu": -1 is smaller than the minimum valid value 0.'
    - - system prof-edit --system=cpc3lp52 --name=DASD14 --cpu=0
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD14 --cpu=A
      - 'Invalid value for "--cpu": A is not a valid integer'
    - - system prof-edit --system=cpc3lp52 --name=DASD14 --cpu=4
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD14 --default=no
      - '--default option does not take a value'
    - - system prof-del --system=cpc3lp52 --name=DASD10
      - Item successfully deleted.
    - - system prof-del --system=cpc3lp52 --name=
      - 'Invalid value for "--name": value may not be empty'
      # a default profile cannot be deleted when others exist
    - - system prof-del --system=cpc3lp52 --name=DASD11
      - A default profile cannot be removed while other profiles for the same system exist
    - - system prof-edit --system=cpc3lp52 --name=DASD14 --default
      - Item successfully updated.
    - - system prof-del --system=cpc3lp52 --name=DASD3
      - Item successfully deleted.
    - - system prof-del --system=cpc3lp52 --name=DASD18
      - Item successfully deleted
        # now it can be deleted
    - - system prof-del --system=cpc3lp52 --name=DASD11
      - Item successfully deleted.
    - - system prof-edit --system=cpc3lp52 --name=DASD14 --newname=DASD4
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --memory=2gb
      - Item successfully updated.
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --gateway
      - --gateway option requires an argument
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --gateway='default osa3'
      - "request failed. Server answered: No associated item found with value 'default osa3' for field 'Gateway interface'"
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --hyp=
      - 'Invalid value for "--hyp": value may not be empty'
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --hyp='default cpc5'
      - "request failed. Server answered: No associated item found with value 'default cpc5' for field 'Required hypervisor profile'"
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --hyp='default cpc3'
      - Item successfully updated.
    - - system prof-edit --system=cpc3 --name='default cpc3' --memory=1136g
      - 'Error: Invalid value for "--memory": 1136g is not a valid size'
    - - system prof-edit --system=cpc3 --name='default cpc3' --hyp='cpc3/default cpc3'
      - 'Invalid value for "--hyp"'
    - - system prof-edit --system=cpc3 --name='default cpc3' --login='root-mypasswd'
      - 'Error: Invalid value for "--login": input should be in the format username:password'
    - - system prof-edit --system=cpc3 --name='default cpc3' --login='root:mypasswd'
      - Item successfully updated.
    - - system prof-edit --system=cpc3 --name='cpc3' --memory=1136gib
      - system profile not found.
    - - system prof-edit --system=cpc3 --name='default cpc3' --memory=1136gib
      - Item successfully updated.
    - - system prof-edit --system=cpc3 --name='default cpc3'
      - no update criteria provided.
    # 'system iface-attach' subcommand
    - - system iface-attach
      - Missing option "--system".
    - - system iface-attach --system=cpc3lp52
      - Missing option "--profile".
    - - system iface-attach --name=DASD4
      - 'no such option: --name'
    - - system iface-attach --system=cpc3lp52 --profile=DASD4 --iface=
      - 'Invalid value for "--iface": value may not be empty'
    - - system iface-attach --system= --profile=DASD4 --iface='default osa2'
      - 'Invalid value for "--system": value may not be empty'
    - - system iface-attach --system=cpc3lp52 --profile=DASD4 --iface=default
      - no network interface found.
    - - system iface-attach --system=cpc3lp52 --profile=DASD4 --iface='default osa2'
      - Network interface attached successfully.
    - - system iface-attach --system=cpc3lp52 --profile=DASD4 --iface='default osa2'
      - 'request failed. Server answered: The network interface specified is already attached to the profile'
    - - system iface-attach --system=cpc3lp52 --profile=DASD4 --iface='default osa1'
      - Network interface attached successfully.
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --gateway='default osa3'
      - "request failed. Server answered: No associated item found with value 'default osa3' for field 'Gateway interface'"
    - - system prof-edit --system=cpc3lp52 --name=DASD4 --gateway='default osa2'
      - Item successfully updated.
    # 'system iface-detach' subcommand
    - - system iface-detach
      - Missing option "--system".
    - - system iface-detach --system=cpc3lp52
      - Missing option "--profile".
    - - system iface-detach --name=DASD4
      - 'no such option: --name'
    - - system iface-detach --system= --profile=DASD4 --iface='default osa2'
      - 'Invalid value for "--system": value may not be empty'
    - - system iface-detach --system=cpc3lp52 --profile=DASD4 --iface=
      - 'Invalid value for "--iface": value may not be empty'
    - - system iface-detach --system=cpc3lp52 --profile=DASD4 --iface=default
      - no network interface found.
    - - system iface-detach --system=cpc3lp55 --profile=DASD4 --iface='default osa2'
      - no profile found.
    - - system iface-detach --system=cpc3lp52 --profile=DASD44 --iface='default osa2'
      - no profile found.
    - - system iface-detach --system=cpc3lp52 --profile=DASD4 --iface='default osa2'
      - Network interface detached successfully.
    - - system iface-detach --system=cpc3lp52 --profile=DASD4 --iface='default osa2'
      - 'request failed. Server answered: The network interface specified is not attached to the profile'
    - - system iface-detach --system=cpc3lp52 --profile=DASD4 --iface='default osa1'
      - Network interface detached successfully.
    - - system iface-detach --system=cpc3lp52 --profile=DASD4 --iface='default macvtap4'
      - no network interface found.
    # 'system vol-attach' subcommand
    - - system vol-attach
      - Missing option "--system".
    - - system vol-attach --system=cpc3lp52
      - Missing option "--profile".
    - - system vol-attach --profile=DASD4
      - Missing option "--system".
    - - system vol-attach --vol=3956
      - Missing option "--system".
    - - system vol-attach --profile=DASD4 --vol=3956
      - Missing option "--system".
    - - system vol-attach --system= --profile=DASD4 --vol=3956
      - 'Invalid value for "--system": value may not be empty'
    - - system vol-attach --system=cpc3lp52 --profile= --vol=3956
      - 'Invalid value for "--profile": value may not be empty'
    - - system vol-attach --system=cpc3lp52 --profile=DASD4 --server= --vol=3956
      - 'Error: Invalid value for "--server": value may not be empty'
    - - system vol-attach --system=cpc3lp52 --profile=DASD4 --vol=
      - 'Invalid value for "--vol": value may not be empty'
    - - system vol-attach --system=cpc3lp55 --profile=DASD4 --vol=3956
      - no profile found.
    - - system vol-attach --system=cpc3lp52 --profile=DASD44 --vol=3956
      - no profile found.
    - - system vol-attach --system=cpc3lp52 --profile=DASD4 --server=DS8K66 --vol=3956
      - storage volume not found.
    - - system vol-attach --system=cpc3lp52 --profile=DASD4 --server=DS8K16 --vol=3966
      - storage volume not found.
    - - system vol-attach --system=cpc3lp52 --profile=DASD4 --vol=3956
      - Volume attached successfully.
      # add partitions so that we can test (root)(swap) in prof-list
    - - storage part-init --id=3956 --label=dasd
      - Partition table successfully initialized
    - - storage part-add --id=3956 --fs=ext4 --mp=/ --size=5gb
      - Partition successfully added
    - - storage part-add --id=3956 --fs=swap
      - Partition successfully added
    - - system prof-list --name=DASD4 --system=cpc3lp52
      - '.*\|.*\|.*\|.*\|.*\| *\[DS8K16/3956\]\(root\)\(swap\) *\|'
    - - system vol-attach --system=cpc3lp52 --profile=DASD4 --vol=3952
      - Volume attached successfully.
    - - storage part-init --id=3952 --label=dasd
      - Partition table successfully initialized
    - - storage part-add --id=3952 --fs=swap
      - Partition successfully added
    - - storage part-del --id=3956 --num=2
      - Partition successfully deleted
    - - system prof-list --name=DASD4 --system=cpc3lp52
      - '.*\|.*\|.*\|.*\|.*\| *\[DS8K16/3952\]\(swap\), \[DS8K16/3956\]\(root\) *\|'
      # end testing (root)(swap) in in prof-list
    - - system vol-attach --system=cpc3 --profile='default cpc3' --vol=3950
      - 'Error: multiple volumes match the entered ID, specify the storage server with --server'
    - - system vol-attach --system=cpc3 --profile='default cpc3' --server=DS8K16 --vol=3950
      - Volume attached successfully.
    - - system vol-attach --system=cpc3 --profile='default cpc3' --vol=3951
      - A CPC profile can have only one volume associated
    - - system vol-detach --system=cpc3 --profile='default cpc3' --vol=3950
      - 'Error: multiple volumes match the entered ID, specify the storage server with --server'
    - - system vol-detach --system=cpc3 --profile='default cpc3' --server=DS8K16 --vol=3950
      - Volume detached successfully.
    # 'system poweron' subcommand
    - - system poweron
      - Missing option "--name".
    - - system poweron --name
      - '--name option requires an argument'
    - - system poweron --name=
      - 'Invalid value for "--name": value may not be empty'
    - - system poweron --name=cpc3lp55
      - system cpc3lp55 not found.
    - - system poweron --name=cpc3lp52
      - 'Failed to establish a new connection'
    - - system poweron --name=cpc3lp52 --profile
      - '--profile option requires an argument'
    - - system poweron --name=cpc3lp52 --profile=
      - 'Invalid value for "--profile": value may not be empty'
    - - system poweron --name=cpc3lp52 --profile=DASD77
      - profile DASD77 not found.
    - - system poweron --name=cpc3lp52 --profile=DASD17
      - 'Profile DASD17 has no volume containing a root partition'
    - - system poweron --name=cpc3lp52 --profile=DASD17 --cpu
      - '--cpu option requires an argument'
    - - system poweron --name=cpc3lp52 --profile=DASD17 --cpu=
      - 'Invalid value for "--cpu":  is not a valid integer'
    - - system poweron --name=cpc3lp52 --profile=DASD17 --cpu=0
      - 'Invalid value for "--cpu": 0 is smaller than the minimum valid value 1.'
    - - system poweron --name=cpc3lp52 --profile=DASD17 --cpu=A
      - 'Invalid value for "--cpu": A is not a valid integer'
    - - system poweron --name=cpc3lp52 --profile=DASD4 --cpu=8
      - 'Failed to establish a new connection'
    - - system poweron --name=cpc3lp52 --profile=DASD4 --memory
      - '--memory option requires an argument'
    - - system poweron --name=cpc3lp52 --profile=DASD4 --memory=
      - 'Error: Invalid value for "--memory": value may not be empty'
    - - system poweron --name=cpc3lp52 --profile=DASD4 --memory=2g
      - 'Error: Invalid value for "--memory": 2g is not a valid size'
    - - system poweron --name=cpc3lp52 --profile=DASD4 --memory=2gb
      - 'Failed to establish a new connection'
    - - system poweron --name=cpc3lp52 --profile=DASD4 --verbosity
      - '--verbosity option requires an argument'
    - - system poweron --name=cpc3lp52 --profile=DASD4 --verbosity critical
      - 'Failed to establish a new connection'
    - - system poweron --name=cpc3lp52 --profile=DASD4 --verbosity error
      - 'Failed to establish a new connection'
    - - system poweron --name=cpc3lp52 --profile=DASD4 --verbosity WARNING
      - 'Failed to establish a new connection'
    - - system poweron --name=cpc3lp52 --profile=DASD4 --verbosity Info
      - 'Failed to establish a new connection'
    - - system poweron --name=cpc3lp52 --profile=DASD4 --verbosity debug
      - 'Failed to establish a new connection'
    - - system poweron --name=cpc3lp52 --profile=DASD4 --verbosity warn
      - Invalid value for "--verbosity"
    - - system poweron --name=cpc3lp52 --force=true
      - '--force option does not take a value'
    - - system poweron --name=cpc3lp52 --forc
      - 'no such option: --forc  Did you mean --force?'
    - - system poweron --name=cpc3lp52 --force
      - 'Failed to establish a new connection'
    - - system poweron --name=cpc3lp52 --noverify=true
      - '--noverify option does not take a value'
    - - system poweron --name=cpc3lp52 --noverif
      - 'no such option: --noverif  Did you mean --noverify?'
    - - system poweron --name=cpc3lp52 --noverify
      - 'Failed to establish a new connection'
    - - system poweron --name=cpc3lp52 --exclusive=true
      - '--exclusive option does not take a value'
    - - system poweron --name=cpc3lp52 --exclus
      - 'no such option: --exclus  Did you mean --exclusive?'
    - - system poweron --name=cpc3lp52 --exclusive
      - Default profile for system cpc3lp53 does not exist.
    # 'system poweroff' subcommand
    - - system poweroff
      - Missing option "--name".
    - - system poweroff --name
      - '--name option requires an argument'
    - - system poweroff --name=
      - 'Invalid value for "--name": value may not be empty'
    - - system poweroff --name=cpc3lp55
      - system cpc3lp55 not found.
    - - system poweroff --name=cpc3lp52
      - 'Failed to establish a new connection'
    - - system poweroff --name=cpc3lp52 --verbosity
      - '--verbosity option requires an argument'
    - - system poweroff --name=cpc3lp52 --verbosity critical
      - 'Failed to establish a new connection'
    - - system poweroff --name=cpc3lp52 --verbosity error
      - 'Failed to establish a new connection'
    - - system poweroff --name=cpc3lp52 --verbosity warning
      - 'Failed to establish a new connection'
    - - system poweroff --name=cpc3lp52 --verbosity INFO
      - 'Failed to establish a new connection'
    - - system poweroff --name=cpc3lp52 --verbosity Debug
      - 'Failed to establish a new connection'
    - - system poweroff --name=cpc3lp52 --verbosity warn
      - Invalid value for "--verbosity"
    # 'system vol-detach' subcommand
    - - system vol-detach
      - Missing option "--system".
    - - system vol-detach --system=cpc3lp52
      - Missing option "--profile".
    - - system vol-detach --profile=DASD4
      - Missing option "--system".
    - - system vol-detach --vol=3956
      - Missing option "--system".
    - - system vol-detach --profile=DASD4 --vol=3956
      - Missing option "--system".
    - - system vol-detach --system= --profile=DASD4 --vol=3956
      - 'Invalid value for "--system": value may not be empty'
    - - system vol-detach --system=cpc3lp52 --profile= --vol=3956
      - 'Invalid value for "--profile": value may not be empty'
    - - system vol-detach --system=cpc3lp52 --profile=DASD4 --server= --vol=3956
      - 'Error: Invalid value for "--server": value may not be empty'
    - - system vol-detach --system=cpc3lp52 --profile=DASD4 --vol=
      - 'Invalid value for "--vol": value may not be empty'
    - - system vol-detach --system=cpc3lp55 --profile=DASD4 --vol=3956
      - no profile found.
    - - system vol-detach --system=cpc3lp52 --profile=DASD4 --server=DS8K66 --vol=3956
      - storage volume not found.
    - - system vol-detach --system=cpc3lp52 --profile=DASD4 --server=DS8K16 --vol=3966
      - storage volume not found.
    - - system vol-detach --system=cpc3lp52 --profile=DASD4 --vol=3956
      - Volume detached successfully.
    - - system vol-detach --system=cpc3lp52 --profile=DASD4 --vol=3957
      - 'Error: request failed. Server answered: The volume specified is not attached to the profile'
    - - system vol-detach --system=cpc3lp52 --profile=DASD4 --vol=3952
      - Volume detached successfully.
      # delete default profile if it is the last one
    - - system prof-list --system=cpc3lp52
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' *DASD4 *\|'
    - - system prof-list --system=cpc3lp52 --long
      - 'Profile name                : DASD4'
    - - system prof-del --system=cpc3lp52 --name=login_int
      - Item successfully deleted.
    - - system prof-del --system=cpc3lp52 --name='DASD root1'
      - Item successfully deleted.
    - - system prof-del --system=cpc3lp52 --name=DASD17
      - Item successfully deleted.
    - - system prof-del --system=cpc3lp52 --name=DASD
      - Item successfully deleted.
    - - system prof-list --system=cpc3lp52
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - ' *DASD4 *\|'
    - - system prof-list --system=cpc3lp52 --long
      - 'Profile name                : DASD4'
    - - system prof-del --system=cpc3lp52 --name=DASD4
      - Item successfully deleted.
  system_export_import:
    # 'system export' subcommand
    - - system export
      - - HYPERVISOR,NAME,TYPE,HOSTNAME,IP,IFACE,LAYER2,PORTNO,OWNER,PROJECT,STATE,DESC
        - cpc3,cpc3lp52,LPAR,cpc3lp52.example.com,192.168.161.222,"f500,f501,f502",1,0,dev1@example.com,GEO_1 developers,AVAILABLE,Developer 1
    - - system export --owner
      - '--owner option requires an argument'
    - - system export --owner dev2@example.com
      - HYPERVISOR,NAME,TYPE,HOSTNAME,IP,IFACE,LAYER2,PORTNO,OWNER,PROJECT,STATE,DESC
    - - system export --owner dev1@example.com
      - dev1@example.com
    - - system export --owner dev1@example.com --hyp cpc3
      - cpc3,cpc3lp52,LPAR,cpc3lp52.example.com,192.168.161.222,"f500,f501,f502",1,0,dev1@example.com,GEO_1 developers,AVAILABLE,Developer 1
    - - system export --hyp cpc3
      - cpc3,cpc3lp52,LPAR,cpc3lp52.example.com,192.168.161.222,"f500,f501,f502",1,0,dev1@example.com,
    - - system export --type KVM
      - cpc3lp52,guest55,KVM,guest55.example.com,
    - - system export --state available
      - cpc3,cpc3lp52,LPAR,cpc3lp52.example.com,192.168.161.222,"f500,f501,f502",1,0,dev1@example.com,GEO_1 developers,AVAILABLE,Developer 1
    - - system export --state AVAILABLE
      - cpc3,cpc3lp52,LPAR,cpc3lp52.example.com,192.168.161.222,"f500,f501,f502",1,0,dev1@example.com,GEO_1 developers,AVAILABLE,Developer 1
    - - system export --state LOCKED
      - HYPERVISOR,NAME,TYPE,HOSTNAME,IP,IFACE,LAYER2,PORTNO,OWNER,PROJECT,STATE,DESC
    - - system export --project 'GEO_1 developers'
      - cpc3,cpc3lp52,LPAR,cpc3lp52.example.com,192.168.161.222,"f500,f501,f502",1,0,dev1@example.com,GEO_1 developers,
    - - system export --name guest55
      - cpc3lp52,guest55,KVM,guest55.example.com,
    # 'system import' subcommand
    - - system import
      - 'Missing option "--file".'
      # wrong file name
    - - system import --file import-system-2.csv
      - No such file or directory
      # incorrect csv file
    - - system import --file files/system-command_test/import-system-no_ips.csv
      - A system must have an IP address assigned
      # IP address doesn't exist
    - - system import --file files/system-command_test/import-system.csv
      - IP address specified not found
    - - net ip-add --subnet='GEO_1-NE-1822' --ip=192.168.161.228  --project='GEO_1 developers' --desc='For use by lpar 58'
      - Item added successfully.
    - - system import --file files/system-command_test/import-system.csv
      - operation finished successfully
    - - system export
      - - HYPERVISOR,NAME,TYPE,HOSTNAME,IP,IFACE,LAYER2,PORTNO,OWNER,PROJECT,STATE,DESC
        - cpc3lp52,guest55,KVM,guest55.example.com,192.168.160.55,02:03:52:01:ff:01,,,dev1@example.com,GEO_1 developers,AVAILABLE,SVT Developer 1
    - - system import --file files/system-command_test/import-system.csv --commit --yes
      - operation finished successfully
    - - system import --file files/system-command_test/import-system.csv --commit --yes --verbosity debug
      - operation finished successfully
    - - system export
      - cpc3,cpc3lp58,LPAR,cpc3lp58.example.com,192.168.161.228,
    - - - system import --file files/system-command_test/import-system.csv --commit
        # warning: this operation affects multiple entries, are you sure you want to proceed? [y/N]:
        - y
      - operation finished successfully
    - - system export
      - cpc3,cpc3lp58,LPAR,cpc3lp58.example.com,192.168.161.228,
  # use case setting os manually
  set_os_manually:
    - - system prof-add --system=cpc3lp52 --name='Manual install' --cpu=4 --memory=2048mib --login='root:mypasswd' --os=
      - 'Error: Invalid value for "--os": value may not be empty'
    - - system prof-add --system=cpc3lp52 --name='Manual install' --cpu=4 --memory=2048mib --login='root:mypasswd' --os=wrong-os
      - "Error: request failed. Server answered: No associated item found with value 'wrong-os' for field 'Operating system'"
    - - system prof-add --system=cpc3lp52 --name='Manual install' --cpu=4 --memory=2048mib --login='root:mypasswd' --os=rhel7.4
      - "Item added successfully."
    - - system prof-list --system=cpc3lp52 --name='Manual install' --os=rhel7.4
      - - ' *Profile name *\| *System *\| *Operating system *\| *CPU\(s\) *\| *Memory *\| *Storage volumes *\| *Network interfaces'
        - '.*\|.*\| *rhel7.4'
    - - system prof-list --system=cpc3lp52 --name='Manual install' --long
      - "Operating system *: rhel7.4"
    - - system prof-edit --system=cpc3lp52 --name='Manual install' --os=wrong-os
      - "Error: request failed. Server answered: No associated item found with value 'wrong-os' for field 'Operating system'"
    - - system prof-edit --system=cpc3lp52 --name='Manual install' --os=
      - "Item successfully updated."
    - - system prof-list --system=cpc3lp52 --name='Manual install' --long
      - "Operating system *: *\n"
    - - system prof-edit --system=cpc3lp52 --name='Manual install' --os=cms
      - "Item successfully updated."
    - - system prof-list --system=cpc3lp52 --name='Manual install' --long
      - "Operating system *: cms"
